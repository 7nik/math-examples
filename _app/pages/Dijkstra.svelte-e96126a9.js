import{S as Be,i as qe,s as De,X as ne,Y as se,e as T,t as L,k as G,c as V,a as W,h as O,m as R,d as D,g as oe,G as o,j as _e,Z as Ue,_ as je,$ as Ce,J as Ge,a0 as Re,w as de,x as pe,b as Y,y as me,V as be,H as z,a1 as Le,a2 as ae,a3 as Oe,p as Pe,W as Ie,q as re,o as ie,B as ve,a4 as Se,U as We,a5 as Ae,a6 as He,a7 as ke,n as Je,a8 as Me}from"../chunks/vendor-c9048cd9.js";import{G as Xe,g as Ye,r as Ze,m as K,a as ze,b as le}from"../chunks/Graph-aaafa524.js";import{E as Fe}from"../chunks/EdgeLister-c993fb27.js";function we(t,l,e){const n=t.slice();return n[16]=l[e],n}function Ee(t){let l;return{c(){l=L("\u043F\u0443\u0441\u0442\u043E")},l(e){l=O(e,"\u043F\u0443\u0441\u0442\u043E")},m(e,n){oe(e,l,n)},d(e){e&&D(l)}}}function ye(t,l){var P;let e,n=l[16].i+"",u,c,a=((P=l[16].weight)!=null?P:"\u221E")+"",E,w,y,g,U,f=We,N;return{key:t,first:null,c(){e=T("div"),u=L(n),c=L(" = "),E=L(a),w=G(),this.h()},l(i){e=V(i,"DIV",{});var d=W(e);u=O(d,n),c=O(d," = "),E=O(d,a),w=R(d),d.forEach(D),this.h()},h(){this.first=e},m(i,d){oe(i,e,d),o(e,u),o(e,c),o(e,E),o(e,w),N=!0},p(i,d){var v;l=i,(!N||d&8)&&n!==(n=l[16].i+"")&&_e(u,n),(!N||d&8)&&a!==(a=((v=l[16].weight)!=null?v:"\u221E")+"")&&_e(E,a)},r(){U=e.getBoundingClientRect()},f(){Ue(e),f(),je(e,U)},a(){f(),f=Ce(e,U,Ae,{})},i(i){N||(Ge(()=>{g&&g.end(1),y=He(e,ke,{delay:200}),y.start()}),N=!0)},o(i){y&&y.invalidate(),g=Re(e,ke,{duration:100}),N=!1},d(i){i&&D(e),i&&g&&g.end()}}}function Ke(t){let l,e,n,u,c,a,E,w,y,g,U,f=[],N=new Map,P,i,d,v,F,p,H,B,J,M,_,I,k,S,Z,j,q,Q,X,x,ue;function Te(r){t[8](r)}let fe={locked:t[4],vertexNumber:t[0].length};t[1]!==void 0&&(fe.edges=t[1]),e=new Fe({props:fe}),ne.push(()=>se(e,"edges",Te));function Ve(r){t[9](r)}function Ne(r){t[10](r)}let $={editable:t[4]?{}:{addVertex:!0,moveVertex:!0,addEdge:"weighted",removeEdge:!0,reweightEdge:!0}};t[0]!==void 0&&($.vertices=t[0]),t[1]!==void 0&&($.edges=t[1]),a=new Xe({props:$}),ne.push(()=>se(a,"vertices",Ve)),ne.push(()=>se(a,"edges",Ne));let A=t[3];const ge=r=>r[16];for(let r=0;r<A.length;r+=1){let s=we(t,A,r),b=ge(s);N.set(b,f[r]=ye(b,s))}let m=null;return A.length||(m=Ee()),{c(){l=T("section"),de(e.$$.fragment),u=G(),c=T("div"),de(a.$$.fragment),y=G(),g=T("center"),U=L(`\u0412\u0435\u0440\u0448\u0438\u043D\u0438 \u0434\u043B\u044F \u043E\u0431\u0445\u043E\u0434\u0443:
            `);for(let r=0;r<f.length;r+=1)f[r].c();m&&m.c(),P=G(),i=T("div"),d=L(`\u041F\u043E\u0447\u0430\u0442\u043E\u043A \u043F\u043E\u0448\u0443\u043A\u0443: 
        `),v=T("input"),F=G(),p=T("br"),H=G(),B=T("button"),J=L("\u041F\u043E\u0447\u0430\u0442\u0438 \u043F\u043E\u0448\u0443\u043A"),M=G(),_=T("br"),I=G(),k=T("button"),S=L("\u041D\u0430\u0441\u0442\u0443\u043F\u043D\u0438\u0439 \u043A\u0440\u043E\u043A"),Z=G(),j=T("label"),q=T("input"),Q=L(`
            \u0430\u0432\u0442\u043E\u043A\u0440\u043E\u043A\u0443\u0432\u0430\u043D\u043D\u044F`),this.h()},l(r){l=V(r,"SECTION",{class:!0});var s=W(l);pe(e.$$.fragment,s),u=R(s),c=V(s,"DIV",{});var b=W(c);pe(a.$$.fragment,b),y=R(b),g=V(b,"CENTER",{class:!0});var C=W(g);U=O(C,`\u0412\u0435\u0440\u0448\u0438\u043D\u0438 \u0434\u043B\u044F \u043E\u0431\u0445\u043E\u0434\u0443:
            `);for(let te=0;te<f.length;te+=1)f[te].l(C);m&&m.l(C),C.forEach(D),b.forEach(D),P=R(s),i=V(s,"DIV",{});var h=W(i);d=O(h,`\u041F\u043E\u0447\u0430\u0442\u043E\u043A \u043F\u043E\u0448\u0443\u043A\u0443: 
        `),v=V(h,"INPUT",{type:!0,min:!0,max:!0}),F=R(h),p=V(h,"BR",{}),H=R(h),B=V(h,"BUTTON",{});var he=W(B);J=O(he,"\u041F\u043E\u0447\u0430\u0442\u0438 \u043F\u043E\u0448\u0443\u043A"),he.forEach(D),M=R(h),_=V(h,"BR",{}),I=R(h),k=V(h,"BUTTON",{});var ce=W(k);S=O(ce,"\u041D\u0430\u0441\u0442\u0443\u043F\u043D\u0438\u0439 \u043A\u0440\u043E\u043A"),ce.forEach(D),Z=R(h),j=V(h,"LABEL",{});var ee=W(j);q=V(ee,"INPUT",{type:!0}),Q=O(ee,`
            \u0430\u0432\u0442\u043E\u043A\u0440\u043E\u043A\u0443\u0432\u0430\u043D\u043D\u044F`),ee.forEach(D),h.forEach(D),s.forEach(D),this.h()},h(){Y(g,"class","svelte-ffbrcq"),Y(v,"type","number"),Y(v,"min","1"),Y(v,"max","11"),B.disabled=t[4],k.disabled=t[5],Y(q,"type","checkbox"),Y(l,"class","svelte-ffbrcq")},m(r,s){oe(r,l,s),me(e,l,null),o(l,u),o(l,c),me(a,c,null),o(c,y),o(c,g),o(g,U);for(let b=0;b<f.length;b+=1)f[b].m(g,null);m&&m.m(g,null),o(l,P),o(l,i),o(i,d),o(i,v),be(v,t[2]),o(i,F),o(i,p),o(i,H),o(i,B),o(B,J),o(i,M),o(i,_),o(i,I),o(i,k),o(k,S),o(i,Z),o(i,j),o(j,q),q.checked=t[5],o(j,Q),X=!0,x||(ue=[z(v,"input",t[11]),z(B,"click",t[7]),z(k,"click",function(){Le(t[6])&&t[6].apply(this,arguments)}),z(q,"change",t[12]),z(q,"change",t[13])],x=!0)},p(r,[s]){t=r;const b={};s&16&&(b.locked=t[4]),s&1&&(b.vertexNumber=t[0].length),!n&&s&2&&(n=!0,b.edges=t[1],ae(()=>n=!1)),e.$set(b);const C={};if(s&16&&(C.editable=t[4]?{}:{addVertex:!0,moveVertex:!0,addEdge:"weighted",removeEdge:!0,reweightEdge:!0}),!E&&s&1&&(E=!0,C.vertices=t[0],ae(()=>E=!1)),!w&&s&2&&(w=!0,C.edges=t[1],ae(()=>w=!1)),a.$set(C),s&8){A=t[3],Je();for(let h=0;h<f.length;h+=1)f[h].r();f=Oe(f,s,ge,1,t,A,N,g,Me,ye,null,we);for(let h=0;h<f.length;h+=1)f[h].a();Pe(),A.length?m&&(m.d(1),m=null):m||(m=Ee(),m.c(),m.m(g,null))}s&4&&Ie(v.value)!==t[2]&&be(v,t[2]),(!X||s&16)&&(B.disabled=t[4]),(!X||s&32)&&(k.disabled=t[5]),s&32&&(q.checked=t[5])},i(r){if(!X){re(e.$$.fragment,r),re(a.$$.fragment,r);for(let s=0;s<A.length;s+=1)re(f[s]);X=!0}},o(r){ie(e.$$.fragment,r),ie(a.$$.fragment,r);for(let s=0;s<f.length;s+=1)ie(f[s]);X=!1},d(r){r&&D(l),ve(e),ve(a);for(let s=0;s<f.length;s+=1)f[s].d();m&&m.d(),x=!1,Se(ue)}}}function Qe(t,l,e){let{vertices:n,edges:u}=Ye(),c=8,a=[],E=!1,w=!0,y=p=>{};function g(){return new Promise(p=>{w?setTimeout(p,1e3):e(6,y=p)})}async function U(){var H,B,J;e(0,[n,u]=await Ze(n,u),n,e(1,u));const p=[];for(e(3,a=[n[c-1]]),e(0,n[c-1].weight=0,n);a.length>0;){e(0,n=K(a[0].i,"orange",n));const M=ze(a[0].i,u).filter(_=>!p.includes(_));M.forEach(_=>le(_,"skyblue",u)),e(1,u),await g();for(const _ of M){e(1,u=le(_,"orange",u));const I=_.v1===a[0].i?_.v2:_.v1;e(0,n=K(I,"blue",n)),await g();const k=((H=a[0].weight)!=null?H:0)+((B=_.weight)!=null?B:0);((J=n[I-1].weight)!=null?J:1/0)>k&&(e(0,n[I-1].weight=k,n),a.includes(n[I-1])||(a.push(n[I-1]),a.sort((S,Z)=>{var j,q;return((j=S.weight)!=null?j:1/0)-((q=Z.weight)!=null?q:1/0)})),e(3,a),await g()),e(0,n=K(I,"skyblue",n)),e(1,u=le(_,"lightgreen",u)),p.push(_)}e(0,n=K(a[0].i,"green",n)),e(3,[,...a]=a,a),a.sort((_,I)=>{var k,S;return((k=_.weight)!=null?k:0)-((S=I.weight)!=null?S:0)}),await g()}}async function f(){e(4,E=!0),await U(),e(4,E=!1)}function N(p){u=p,e(1,u)}function P(p){n=p,e(0,n)}function i(p){u=p,e(1,u)}function d(){c=Ie(this.value),e(2,c)}function v(){w=this.checked,e(5,w)}return[n,u,c,a,E,w,y,f,N,P,i,d,v,()=>w&&y(1)]}class tt extends Be{constructor(l){super();qe(this,l,Qe,Ke,De,{})}}export{tt as default};
