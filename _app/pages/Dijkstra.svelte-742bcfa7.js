import{S as Xe,i as Ye,s as Ze,X as ve,Y as ke,e as b,t as C,k as V,c as m,a as K,h as O,m as R,d as U,g as Be,H as r,j as qe,Z as ze,_ as Fe,$ as Je,a0 as Qe,a1 as xe,w as De,x as je,b as j,y as Ce,T as ie,K as J,W as $e,a2 as Ee,a3 as et,p as tt,U as ae,q as ye,o as Te,B as Oe,P as nt,R as st,a4 as lt,a5 as rt,a6 as Ge,n as it,a7 as at}from"../chunks/vendor-a50c646c.js";import{G as ot,g as ut,m as z,a as Le,b as ee,r as ft}from"../chunks/Graph-95f5c01f.js";import{E as ht}from"../chunks/EdgeLister-32984e2a.js";function Se(t,g,e){const w=t.slice();return w[20]=g[e],w}function We(t){let g;return{c(){g=C("\u043F\u0443\u0441\u0442\u043E")},l(e){g=O(e,"\u043F\u0443\u0441\u0442\u043E")},m(e,w){Be(e,g,w)},d(e){e&&U(g)}}}function Ae(t,g){var M;let e,w=g[20].i+"",n,i,c=((M=g[20].weight)!=null?M:"\u221E")+"",B,d,I,p,P,h=st,q;return{key:t,first:null,c(){e=b("div"),n=C(w),i=C(" = "),B=C(c),d=V(),this.h()},l(l){e=m(l,"DIV",{});var k=K(e);n=O(k,w),i=O(k," = "),B=O(k,c),d=R(k),k.forEach(U),this.h()},h(){this.first=e},m(l,k){Be(l,e,k),r(e,n),r(e,i),r(e,B),r(e,d),q=!0},p(l,k){var E;g=l,(!q||k&16)&&w!==(w=g[20].i+"")&&qe(n,w),(!q||k&16)&&c!==(c=((E=g[20].weight)!=null?E:"\u221E")+"")&&qe(B,c)},r(){P=e.getBoundingClientRect()},f(){ze(e),h(),Fe(e,P)},a(){h(),h=Je(e,P,lt,{})},i(l){q||(Qe(()=>{p&&p.end(1),I=rt(e,Ge,{delay:200}),I.start()}),q=!0)},o(l){I&&I.invalidate(),p=xe(e,Ge,{duration:100}),q=!1},d(l){l&&U(e),l&&p&&p.end()}}}function gt(t){let g,e,w,n,i,c,B,d,I,p,P,h=[],q=new Map,M,l,k,E,Q,te,ne,se,G,_,A,v,N,L,o,a,S,X,le,x,D,oe,re,ue,fe,he,ge,Y,_e,de,$,Z,ce,W,pe,Ie;function He(f){t[11](f)}let Ne={locked:t[5],vertexNumber:t[0].length};t[1]!==void 0&&(Ne.edges=t[1]),e=new ht({props:Ne}),ve.push(()=>ke(e,"edges",He));function Ke(f){t[12](f)}function Me(f){t[13](f)}let be={editable:t[5]?{}:{addVertex:!0,moveVertex:!0,addEdge:"weighted",removeEdge:!0,reweightEdge:!0}};t[0]!==void 0&&(be.vertices=t[0]),t[1]!==void 0&&(be.edges=t[1]),c=new ot({props:be}),ve.push(()=>ke(c,"vertices",Ke)),ve.push(()=>ke(c,"edges",Me));let F=t[4];const Ve=f=>f[20];for(let f=0;f<F.length;f+=1){let s=Se(t,F,f),T=Ve(s);q.set(T,h[f]=Ae(T,s))}let y=null;return F.length||(y=We()),{c(){g=b("section"),De(e.$$.fragment),n=V(),i=b("div"),De(c.$$.fragment),I=V(),p=b("center"),P=C(`\u0412\u0435\u0440\u0448\u0438\u043D\u0438 \u0434\u043B\u044F \u043E\u0431\u0445\u043E\u0434\u0443:
            `);for(let f=0;f<h.length;f+=1)h[f].c();y&&y.c(),M=V(),l=b("div"),k=C(`\u041F\u043E\u0447\u0430\u0442\u043E\u043A \u0440\u043E\u0437\u0440\u0430\u0445\u0443\u043D\u043A\u0443: 
        `),E=b("input"),te=V(),ne=b("br"),se=V(),G=b("button"),_=C("\u0420\u043E\u0437\u0440\u0430\u0445\u0443\u0432\u0430\u0442\u0438 \u0432\u0456\u0434\u0441\u0442\u0430\u043D\u0456"),A=V(),v=b("br"),N=b("br"),L=C(`
        \u0417\u043D\u0430\u0439\u0442\u0438 \u0448\u043B\u044F\u0445 \u0437: 
        `),o=b("input"),X=V(),le=b("br"),x=V(),D=b("button"),oe=C("\u0417\u043D\u0430\u0439\u0442\u0438 \u0448\u043B\u044F\u0445"),ue=V(),fe=b("br"),he=b("br"),ge=V(),Y=b("button"),_e=C("\u041D\u0430\u0441\u0442\u0443\u043F\u043D\u0438\u0439 \u043A\u0440\u043E\u043A"),de=V(),$=b("label"),Z=b("input"),ce=C(`
            \u0430\u0432\u0442\u043E\u043A\u0440\u043E\u043A\u0443\u0432\u0430\u043D\u043D\u044F`),this.h()},l(f){g=m(f,"SECTION",{class:!0});var s=K(g);je(e.$$.fragment,s),n=R(s),i=m(s,"DIV",{});var T=K(i);je(c.$$.fragment,T),I=R(T),p=m(T,"CENTER",{class:!0});var H=K(p);P=O(H,`\u0412\u0435\u0440\u0448\u0438\u043D\u0438 \u0434\u043B\u044F \u043E\u0431\u0445\u043E\u0434\u0443:
            `);for(let we=0;we<h.length;we+=1)h[we].l(H);y&&y.l(H),H.forEach(U),T.forEach(U),M=R(s),l=m(s,"DIV",{});var u=K(l);k=O(u,`\u041F\u043E\u0447\u0430\u0442\u043E\u043A \u0440\u043E\u0437\u0440\u0430\u0445\u0443\u043D\u043A\u0443: 
        `),E=m(u,"INPUT",{type:!0,min:!0,max:!0}),te=R(u),ne=m(u,"BR",{}),se=R(u),G=m(u,"BUTTON",{});var Re=K(G);_=O(Re,"\u0420\u043E\u0437\u0440\u0430\u0445\u0443\u0432\u0430\u0442\u0438 \u0432\u0456\u0434\u0441\u0442\u0430\u043D\u0456"),Re.forEach(U),A=R(u),v=m(u,"BR",{}),N=m(u,"BR",{}),L=O(u,`
        \u0417\u043D\u0430\u0439\u0442\u0438 \u0448\u043B\u044F\u0445 \u0437: 
        `),o=m(u,"INPUT",{type:!0,min:!0,max:!0}),X=R(u),le=m(u,"BR",{}),x=R(u),D=m(u,"BUTTON",{});var Ue=K(D);oe=O(Ue,"\u0417\u043D\u0430\u0439\u0442\u0438 \u0448\u043B\u044F\u0445"),Ue.forEach(U),ue=R(u),fe=m(u,"BR",{}),he=m(u,"BR",{}),ge=R(u),Y=m(u,"BUTTON",{});var Pe=K(Y);_e=O(Pe,"\u041D\u0430\u0441\u0442\u0443\u043F\u043D\u0438\u0439 \u043A\u0440\u043E\u043A"),Pe.forEach(U),de=R(u),$=m(u,"LABEL",{});var me=K($);Z=m(me,"INPUT",{type:!0}),ce=O(me,`
            \u0430\u0432\u0442\u043E\u043A\u0440\u043E\u043A\u0443\u0432\u0430\u043D\u043D\u044F`),me.forEach(U),u.forEach(U),s.forEach(U),this.h()},h(){j(p,"class","svelte-ffbrcq"),j(E,"type","number"),j(E,"min","1"),j(E,"max",Q=t[0].length),G.disabled=t[5],j(o,"type","number"),j(o,"min","1"),j(o,"max",a=t[0].length),o.disabled=S=!t[8],D.disabled=re=!t[8]||t[5],Y.disabled=t[6],j(Z,"type","checkbox"),j(g,"class","svelte-ffbrcq")},m(f,s){Be(f,g,s),Ce(e,g,null),r(g,n),r(g,i),Ce(c,i,null),r(i,I),r(i,p),r(p,P);for(let T=0;T<h.length;T+=1)h[T].m(p,null);y&&y.m(p,null),r(g,M),r(g,l),r(l,k),r(l,E),ie(E,t[2]),r(l,te),r(l,ne),r(l,se),r(l,G),r(G,_),r(l,A),r(l,v),r(l,N),r(l,L),r(l,o),ie(o,t[3]),r(l,X),r(l,le),r(l,x),r(l,D),r(D,oe),r(l,ue),r(l,fe),r(l,he),r(l,ge),r(l,Y),r(Y,_e),r(l,de),r(l,$),r($,Z),Z.checked=t[6],r($,ce),W=!0,pe||(Ie=[J(E,"input",t[14]),J(G,"click",t[10]),J(o,"input",t[15]),J(D,"click",t[9]),J(Y,"click",function(){$e(t[7])&&t[7].apply(this,arguments)}),J(Z,"change",t[16]),J(Z,"change",t[17])],pe=!0)},p(f,[s]){t=f;const T={};s&32&&(T.locked=t[5]),s&1&&(T.vertexNumber=t[0].length),!w&&s&2&&(w=!0,T.edges=t[1],Ee(()=>w=!1)),e.$set(T);const H={};if(s&32&&(H.editable=t[5]?{}:{addVertex:!0,moveVertex:!0,addEdge:"weighted",removeEdge:!0,reweightEdge:!0}),!B&&s&1&&(B=!0,H.vertices=t[0],Ee(()=>B=!1)),!d&&s&2&&(d=!0,H.edges=t[1],Ee(()=>d=!1)),c.$set(H),s&16){F=t[4],it();for(let u=0;u<h.length;u+=1)h[u].r();h=et(h,s,Ve,1,t,F,q,p,at,Ae,null,Se);for(let u=0;u<h.length;u+=1)h[u].a();tt(),F.length?y&&(y.d(1),y=null):y||(y=We(),y.c(),y.m(p,null))}(!W||s&1&&Q!==(Q=t[0].length))&&j(E,"max",Q),s&4&&ae(E.value)!==t[2]&&ie(E,t[2]),(!W||s&32)&&(G.disabled=t[5]),(!W||s&1&&a!==(a=t[0].length))&&j(o,"max",a),(!W||s&256&&S!==(S=!t[8]))&&(o.disabled=S),s&8&&ae(o.value)!==t[3]&&ie(o,t[3]),(!W||s&288&&re!==(re=!t[8]||t[5]))&&(D.disabled=re),(!W||s&64)&&(Y.disabled=t[6]),s&64&&(Z.checked=t[6])},i(f){if(!W){ye(e.$$.fragment,f),ye(c.$$.fragment,f);for(let s=0;s<F.length;s+=1)ye(h[s]);W=!0}},o(f){Te(e.$$.fragment,f),Te(c.$$.fragment,f);for(let s=0;s<h.length;s+=1)Te(h[s]);W=!1},d(f){f&&U(g),Oe(e),Oe(c);for(let s=0;s<h.length;s+=1)h[s].d();y&&y.d(),pe=!1,nt(Ie)}}}function _t(t,g,e){let w,{vertices:n,edges:i}=ut(),c=8,B=4,d=[],I=!1,p=!0,P=_=>{};function h(){return new Promise(_=>{p?setTimeout(_,1e3):e(7,P=_)})}async function q(){var A,v,N;e(0,[n,i]=await ft(n,i),n,e(1,i));const _=[];for(e(4,d=[n[c-1]]),e(0,n[c-1].weight=0,n);d.length>0;){e(0,n=z(d[0].i,"orange",n));const L=Le(d[0].i,i).filter(o=>!_.includes(o));L.forEach(o=>ee(o,"skyblue",i)),e(1,i),await h();for(const o of L){e(1,i=ee(o,"orange",i));const a=o.v1===d[0].i?o.v2:o.v1;e(0,n=z(a,"blue",n)),await h();const S=((A=d[0].weight)!=null?A:0)+((v=o.weight)!=null?v:0);((N=n[a-1].weight)!=null?N:1/0)>S&&(e(0,n[a-1].weight=S,n),d.includes(n[a-1])||(d.push(n[a-1]),d.sort((X,le)=>{var x,D;return((x=X.weight)!=null?x:1/0)-((D=le.weight)!=null?D:1/0)})),e(4,d),await h()),e(0,n=z(a,"skyblue",n)),e(1,i=ee(o,"lightgreen",i)),_.push(o)}e(0,n=z(d[0].i,"green",n)),e(4,[,...d]=d,d),d.sort((o,a)=>{var S,X;return((S=o.weight)!=null?S:0)-((X=a.weight)!=null?X:0)}),await h()}}async function M(){if(!n[B-1].weight)return;e(5,I=!0),n.forEach(v=>v.color="grey"),e(0,n=z(B,"green",n)),i.forEach(v=>v.color="silver"),e(1,i);let _=n[B-1],A=[];do{let v=Le(_.i,i).filter(a=>!A.includes(a));v.forEach(a=>ee(a,"skyblue",i)),e(1,i);let N=v.map(a=>n[a.v1===_.i?a.v2-1:a.v1-1]);N.forEach(a=>z(a.i,"skyblue",n)),e(0,n),await h();let L=N[0],o=v[0];for(let a=0;a<N.length;a++)if(_.weight==N[a].weight+v[a].weight){L=N[a],o=v[a];break}_=L,A.push(o),v.forEach(a=>ee(a,"silver",i)),e(1,i=ee(o,"green",i)),N.forEach(a=>z(a.i,"grey",n)),e(0,n=z(L.i,"green",n)),_.weight!==0&&await h()}while(_.weight!==0);e(5,I=!1)}async function l(){e(5,I=!0),await q(),e(5,I=!1)}function k(_){i=_,e(1,i)}function E(_){n=_,e(0,n)}function Q(_){i=_,e(1,i)}function te(){c=ae(this.value),e(2,c)}function ne(){B=ae(this.value),e(3,B)}function se(){p=this.checked,e(6,p)}const G=()=>p&&P(1);return t.$$.update=()=>{t.$$.dirty&1&&e(8,w=n.every(_=>"weight"in _))},[n,i,c,B,d,I,p,P,w,M,l,k,E,Q,te,ne,se,G]}class bt extends Xe{constructor(g){super();Ye(this,g,_t,gt,Ze,{})}}export{bt as default};
