import{S as re,i as ue,s as ie,e as A,t as j,c as d,a as q,g as R,d as r,f as c,E as M,T as ne,k as F,j as fe,n as G,m as pe,b as C,H as oe,G as Y,a0 as le,V as te,o as _e,F as w,h as ce,x as be,u as he,J as me,v as ve,X as ke,a1 as ye}from"../../chunks/vendor-836a0c06.js";import{M as Ee}from"../../chunks/Matrix-c6ab88e9.js";function se(l,o,i){const k=l.slice();return k[16]=o[i],k}function ae(l){let o,i=l[16]+"",k,O;return{c(){o=A("option"),k=j(i),this.h()},l(u){o=d(u,"OPTION",{});var E=q(o);k=R(E,i),E.forEach(r),this.h()},h(){o.__value=O=l[16],o.value=o.__value},m(u,E){c(u,o,E),M(o,k)},p:ne,d(u){u&&r(o)}}}function Pe(l){let o,i,k,O,u,E,z,B,p,L,N,S,T,h,X,J,U,m,_,f,n,s,a,b,P,Q,H,W,D,Z,x,K=l[8],v=[];for(let e=0;e<K.length;e+=1)v[e]=ae(se(l,K,e));return a=new Ee({props:{matrix:l[3],marks:l[7]}}),{c(){o=A("h1"),i=A("a"),k=j("\u0410\u043B\u0433\u043E\u0440\u0438\u0442\u043C \u0448\u0438\u0444\u0440\u0443\u0432\u0430\u043D\u043D\u044F Playfair"),O=j(`
\u041A\u043B\u044E\u0447: 
`),u=A("select");for(let e=0;e<v.length;e+=1)v[e].c();E=F(),z=A("br"),B=j(`
\u0422\u0435\u043A\u0441\u0442: `),p=A("input"),L=F(),N=A("br"),S=F(),T=A("label"),h=A("input"),X=j(" \u0417\u0430\u0448\u0438\u0444\u0440\u0443\u0432\u0430\u0442\u0438"),J=F(),U=A("label"),m=A("input"),_=j(" \u0414\u0435\u0448\u0438\u0444\u0440\u0443\u0432\u0430\u0442\u0438"),f=F(),n=A("br"),s=F(),fe(a.$$.fragment),b=F(),P=A("br"),Q=j(`
\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442: `),H=A("span"),W=j(l[4]),this.h()},l(e){o=d(e,"H1",{});var t=q(o);i=d(t,"A",{href:!0,target:!0});var I=q(i);k=R(I,"\u0410\u043B\u0433\u043E\u0440\u0438\u0442\u043C \u0448\u0438\u0444\u0440\u0443\u0432\u0430\u043D\u043D\u044F Playfair"),I.forEach(r),t.forEach(r),O=R(e,`
\u041A\u043B\u044E\u0447: 
`),u=d(e,"SELECT",{class:!0});var y=q(u);for(let $=0;$<v.length;$+=1)v[$].l(y);y.forEach(r),E=G(e),z=d(e,"BR",{}),B=R(e,`
\u0422\u0435\u043A\u0441\u0442: `),p=d(e,"INPUT",{class:!0}),L=G(e),N=d(e,"BR",{}),S=G(e),T=d(e,"LABEL",{});var V=q(T);h=d(V,"INPUT",{type:!0,class:!0}),X=R(V," \u0417\u0430\u0448\u0438\u0444\u0440\u0443\u0432\u0430\u0442\u0438"),V.forEach(r),J=G(e),U=d(e,"LABEL",{});var g=q(U);m=d(g,"INPUT",{type:!0,class:!0}),_=R(g," \u0414\u0435\u0448\u0438\u0444\u0440\u0443\u0432\u0430\u0442\u0438"),g.forEach(r),f=G(e),n=d(e,"BR",{}),s=G(e),pe(a.$$.fragment,e),b=G(e),P=d(e,"BR",{}),Q=R(e,`
\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442: `),H=d(e,"SPAN",{class:!0});var ee=q(H);W=R(ee,l[4]),ee.forEach(r),this.h()},h(){C(i,"href","https://chmnu.edu.ua/populyarizatsiya-prirodnichih-nauk-ta-matematiki/"),C(i,"target","_blank"),C(u,"class","svelte-ba1azb"),l[1]===void 0&&oe(()=>l[10].call(u)),Y(u,"bad",l[5]),C(p,"class","input svelte-ba1azb"),Y(p,"bad",l[6]),C(h,"type","radio"),h.__value="encode",h.value=h.__value,C(h,"class","svelte-ba1azb"),l[13][0].push(h),C(m,"type","radio"),m.__value="decode",m.value=m.__value,C(m,"class","svelte-ba1azb"),l[13][0].push(m),C(H,"class","output svelte-ba1azb")},m(e,t){c(e,o,t),M(o,i),M(i,k),c(e,O,t),c(e,u,t);for(let I=0;I<v.length;I+=1)v[I].m(u,null);le(u,l[1]),c(e,E,t),c(e,z,t),c(e,B,t),c(e,p,t),te(p,l[0]),c(e,L,t),c(e,N,t),c(e,S,t),c(e,T,t),M(T,h),h.checked=h.__value===l[2],M(T,X),c(e,J,t),c(e,U,t),M(U,m),m.checked=m.__value===l[2],M(U,_),c(e,f,t),c(e,n,t),c(e,s,t),_e(a,e,t),c(e,b,t),c(e,P,t),c(e,Q,t),c(e,H,t),M(H,W),D=!0,Z||(x=[w(u,"change",l[10]),w(p,"input",l[11]),w(p,"keyup",l[9]),w(p,"click",l[9]),w(p,"focus",l[9]),w(p,"blur",l[9]),w(h,"change",l[12]),w(m,"change",l[14])],Z=!0)},p(e,[t]){if(t&256){K=e[8];let y;for(y=0;y<K.length;y+=1){const V=se(e,K,y);v[y]?v[y].p(V,t):(v[y]=ae(V),v[y].c(),v[y].m(u,null))}for(;y<v.length;y+=1)v[y].d(1);v.length=K.length}t&258&&le(u,e[1]),t&32&&Y(u,"bad",e[5]),t&1&&p.value!==e[0]&&te(p,e[0]),t&64&&Y(p,"bad",e[6]),t&4&&(h.checked=h.__value===e[2]),t&4&&(m.checked=m.__value===e[2]);const I={};t&8&&(I.matrix=e[3]),t&128&&(I.marks=e[7]),a.$set(I),(!D||t&16)&&ce(W,e[4])},i(e){D||(be(a.$$.fragment,e),D=!0)},o(e){he(a.$$.fragment,e),D=!1},d(e){e&&r(o),e&&r(O),e&&r(u),me(v,e),e&&r(E),e&&r(z),e&&r(B),e&&r(p),e&&r(L),e&&r(N),e&&r(S),e&&r(T),l[13][0].splice(l[13][0].indexOf(h),1),e&&r(J),e&&r(U),l[13][0].splice(l[13][0].indexOf(m),1),e&&r(f),e&&r(n),e&&r(s),ve(a,e),e&&r(b),e&&r(P),e&&r(Q),e&&r(H),Z=!1,ke(x)}}}const Ae="\u0410\u0411\u0412\u0413\u0414\u0415\u0404\u0416\u0417\u0418\u0406\u0407\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042C\u042E\u042F";function de(l,o,i){const k={pos(_,f){return f?{r:f.findIndex(n=>n.includes(_)),c:f.reduce((n,s)=>n>=0?n:s.indexOf(_),-1)}:{r:-1,c:-1}},encode(_,f,n){if(!f)return[this.pos(_,n)];const{c:s,r:a}=this.pos(_,n),{c:b,r:P}=this.pos(f,n);return s===b?[{c:s,r:(a+1)%4},{c:b,r:(P+1)%4}]:a===P?[{r:a,c:(s+1)%8},{r:P,c:(b+1)%8}]:[{r:a,c:b},{r:P,c:s}]},decode(_,f,n){if(!f)return[this.pos(_,n)];const{c:s,r:a}=this.pos(_,n),{c:b,r:P}=this.pos(f,n);return s===b?[{c:s,r:(a+3)%4},{c:b,r:(P+3)%4}]:a===P?[{r:a,c:(s+7)%8},{r:P,c:(b+7)%8}]:[{r:a,c:b},{r:P,c:s}]}},O=["\u0423\u041D\u0406\u0412\u0415\u0420","\u041C\u041E\u0413\u0418\u041B\u042F\u041D\u041A\u0410","\u0412\u0427\u0418\u0422\u0415\u041B\u042C","\u0428\u0418\u0424\u0420\u0423\u0412\u0410\u041D\u042F","\u041F\u041B\u0415\u0419\u0424\u0404\u0420\u0410"];let u="\u0421\u0438\u043B\u0430 \u041C\u0430\u0442\u0435\u043C\u0430\u0442\u0438\u043A\u0438",E="\u041C\u041E\u0413\u0418\u041B\u042F\u041D\u041A\u0410",z="encode",B,p,L,N,S={};function T(_){var a,b;if(_.type==="blur"){i(7,S={});return}let f=_.target.selectionStart||0;(f&-1)==(_.target.value.length&-1)&&(f-=1),f-=(b=(a=u.slice(0,f+1).match(/\s/g))==null?void 0:a.length)!=null?b:0;let[n,s]=u.replaceAll(/\s/g,"").toUpperCase().slice(f&~1);i(7,S={blue:[k.pos(n,B),k.pos(s,B)],brown:k[z](n,s,B)})}const h=[[]];function X(){E=ye(this),i(1,E),i(8,O)}function J(){u=this.value,i(0,u)}function U(){z=this.__value,i(2,z)}function m(){z=this.__value,i(2,z)}return l.$$.update=()=>{if(l.$$.dirty&127){e:{const _=E.toUpperCase().split("");if(i(5,L=_.some((s,a)=>_.indexOf(s)<a)),L)break e;const f=_.concat(Ae.split("").filter(s=>!_.includes(s))),n=u.replaceAll(/\s/g,"").toUpperCase();if(i(6,N=n.split("").some(s=>!f.includes(s))),N)break e;i(3,B=Array(4).fill(1).map((s,a)=>f.slice(a*8,(a+1)*8))),i(4,p=[]);for(let s=0;s<n.length;s+=2){const[a,b]=k[z](n[s],n[s+1],B);if(!b){p.push(a);continue}p.push(a,b)}i(4,p=p.map(({r:s,c:a})=>B[s][a]).join(""))}}},[u,E,z,B,p,L,N,S,O,T,X,J,U,h,m]}class Ie extends re{constructor(o){super();ue(this,o,de,Pe,ie,{})}}export{Ie as default};
