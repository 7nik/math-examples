import{S as J,i as O,s as P,l as G,f as v,e as M,t as T,c as C,a as y,g as V,d as g,b as E,G as f,E as Y,Y as Z,h as z,Z as B,J as R,_ as d,T as S}from"./vendor-8421bb73.js";function j(e,n,a){const t=e.slice();return t[8]=n[a],t[10]=a,t}function N(e,n,a){const t=e.slice();return t[11]=n[a],t[13]=a,t}function q(e){let n,a=e[11]+"",t,l,i,s;return{c(){n=M("span"),t=T(a),this.h()},l(r){n=C(r,"SPAN",{class:!0});var h=y(n);t=V(h,a),h.forEach(g),this.h()},h(){E(n,"class","svelte-1rxlfa7"),f(n,"row",e[2]&&!e[10]&&!e[1]||e[2]&&!e[13]&&e[1]),f(n,"column",e[3]&&!e[13]&&!e[1]||e[3]&&!e[10]&&e[1])},m(r,h){v(r,n,h),Y(n,t),i||(s=Z(l=e[6].call(null,n,{r:e[10],c:e[13],markMap:e[5]})),i=!0)},p(r,h){e=r,h&1&&a!==(a=e[11]+"")&&z(t,a),l&&B(l.update)&&h&32&&l.update.call(null,{r:e[10],c:e[13],markMap:e[5]}),h&6&&f(n,"row",e[2]&&!e[10]&&!e[1]||e[2]&&!e[13]&&e[1]),h&10&&f(n,"column",e[3]&&!e[13]&&!e[1]||e[3]&&!e[10]&&e[1])},d(r){r&&g(n),i=!1,s()}}}function A(e){let n,a=e[8],t=[];for(let l=0;l<a.length;l+=1)t[l]=q(N(e,a,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();n=G()},l(l){for(let i=0;i<t.length;i+=1)t[i].l(l);n=G()},m(l,i){for(let s=0;s<t.length;s+=1)t[s].m(l,i);v(l,n,i)},p(l,i){if(i&47){a=l[8];let s;for(s=0;s<a.length;s+=1){const r=N(l,a,s);t[s]?t[s].p(r,i):(t[s]=q(r),t[s].c(),t[s].m(n.parentNode,n))}for(;s<t.length;s+=1)t[s].d(1);t.length=a.length}},d(l){R(t,l),l&&g(n)}}}function F(e){let n,a=e[0],t=[];for(let l=0;l<a.length;l+=1)t[l]=A(j(e,a,l));return{c(){n=M("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){n=C(l,"DIV",{style:!0,class:!0});var i=y(n);for(let s=0;s<t.length;s+=1)t[s].l(i);i.forEach(g),this.h()},h(){d(n,"--w",e[1]?e[0].length:e[0][0].length),d(n,"--h",e[1]?e[0][0].length:e[0].length),E(n,"class","svelte-1rxlfa7"),f(n,"colDir",e[1]),f(n,"showGrid",e[4])},m(l,i){v(l,n,i);for(let s=0;s<t.length;s+=1)t[s].m(n,null)},p(l,[i]){if(i&47){a=l[0];let s;for(s=0;s<a.length;s+=1){const r=j(l,a,s);t[s]?t[s].p(r,i):(t[s]=A(r),t[s].c(),t[s].m(n,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=a.length}i&3&&d(n,"--w",l[1]?l[0].length:l[0][0].length),i&3&&d(n,"--h",l[1]?l[0][0].length:l[0].length),i&2&&f(n,"colDir",l[1]),i&16&&f(n,"showGrid",l[4])},i:S,o:S,d(l){l&&g(n),R(t,l)}}}function H(e,n,a){let t,{matrix:l=[[]]}=n,{colDir:i=!1}=n,{showRow:s=!1}=n,{showColumn:r=!1}=n,{showGrid:h=!1}=n,{marks:w={}}=n;function I(o,c){function m({r:k,c:b,markMap:u}){var D;const _=(D=u[`${k},${b}`])==null?void 0:D.split(",");if(!_){o.style.background=null;return}_.length===1?o.style.background=_:o.style.background=`linear-gradient(135deg, ${_[0]} 50%, ${_[1]} 50%)`}return m(c),{update:m}}return e.$$set=o=>{"matrix"in o&&a(0,l=o.matrix),"colDir"in o&&a(1,i=o.colDir),"showRow"in o&&a(2,s=o.showRow),"showColumn"in o&&a(3,r=o.showColumn),"showGrid"in o&&a(4,h=o.showGrid),"marks"in o&&a(7,w=o.marks)},e.$$.update=()=>{e.$$.dirty&128&&a(5,t=Object.entries(w).reduce((o,[c,m])=>(m.forEach(({r:k,c:b})=>{const u=`${k},${b}`;o[u]?o[u]+=","+c:o[u]=c}),o),{}))},[l,i,s,r,h,t,I,w]}class L extends J{constructor(n){super();O(this,n,H,F,P,{matrix:0,colDir:1,showRow:2,showColumn:3,showGrid:4,marks:7})}}export{L as M};
