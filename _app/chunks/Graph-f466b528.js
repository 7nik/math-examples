var Le=Object.defineProperty;var le=Object.getOwnPropertySymbols;var Me=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable;var ie=(e,t,l)=>t in e?Le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,te=(e,t)=>{for(var l in t||(t={}))Me.call(t,l)&&ie(e,l,t[l]);if(le)for(var l of le(t))Ve.call(t,l)&&ie(e,l,t[l]);return e};import{S as Xe,i as De,s as Ke,l as T,g as K,n as Q,o as O,p as R,q as G,d as z,a9 as B,aa as N,a as I,b as n,t as W,h as A,I as D,G as P,ab as $,a1 as ee,j as F,J as H,K as M,a7 as V,a4 as me,H as U,ac as Ce,ad as Ge,a3 as Se,ae as Te,L as Ye,af as Be,X as Ne,ag as Z,z as re,C as ne}from"./vendor-c9048cd9.js";const Ie=[{i:1,x:100,y:0},{i:2,x:200,y:0},{i:3,x:300,y:0},{i:4,x:0,y:100},{i:5,x:100,y:100},{i:6,x:200,y:100},{i:7,x:300,y:100},{i:8,x:400,y:100},{i:9,x:100,y:200},{i:10,x:200,y:200},{i:11,x:300,y:200}],qe=[{v1:1,v2:2,weight:9},{v1:1,v2:4,weight:10},{v1:1,v2:5,weight:5},{v1:1,v2:6,weight:11},{v1:2,v2:3,weight:3},{v1:2,v2:6,weight:5},{v1:3,v2:6,weight:12},{v1:3,v2:7,weight:10},{v1:3,v2:8,weight:7},{v1:4,v2:5,weight:6},{v1:4,v2:9,weight:10},{v1:5,v2:6,weight:15},{v1:5,v2:9,weight:5},{v1:5,v2:10,weight:8},{v1:6,v2:7,weight:4},{v1:6,v2:10,weight:11},{v1:7,v2:8,weight:11},{v1:7,v2:10,weight:8},{v1:7,v2:11,weight:6},{v1:8,v2:11,weight:4}];function Qe(){return{vertices:Ie.map(e=>te({},e)),edges:qe.map(e=>te({},e))}}function Oe(e,t,l){return l.findIndex(i=>i.v1==e&&i.v2==t||i.v1==t&&i.v2==e)}function je(e,t){return t.filter(({v1:l,v2:i})=>l==e||i==e).sort((l,i)=>Math.min(l.v1,l.v2)-Math.min(i.v1,i.v2)||Math.max(l.v1,l.v2)-Math.max(i.v1,i.v2))}function Re(e,t,l){const i=l.indexOf(e);return i>=0&&(l[i].color=t),l}function Ue(e,t,l){const i=l.findIndex(d=>d.i==e);return i>=0&&(l[i].color=t),l}function Ze(e){const t=[e[e.length-1].v1],l=[],i=[t[0]],d=[];for(;i.length>0;){const w=je(i[0],e).filter(_=>!l.includes(_));if(w.length>0){const _=w[0];l.push(_),d.push(_);const g=_.v1===i[0]?_.v2:_.v1;if(t.includes(g))return d;i.unshift(g),t.push(g)}else d.pop(),i.shift()}return null}function xe(e,t=!0){return e.slice().sort((l,i)=>(t?(l.weight||0)-(i.weight||0):(i.weight||0)-(l.weight||0))||Math.min(l.v1,l.v2)-Math.min(i.v1,i.v2))}function $e(e,t,l){return e.forEach(i=>{i.color="grey",delete i.weight}),t.forEach(i=>{i.color="silver",l&&(i.weight=l)}),[e,t]}const{window:oe}=Be;function se(e,t,l){const i=e.slice();return i[28]=t[l],i}function fe(e,t,l){const i=e.slice();return i[31]=t[l],i}function He(e){let t,l,i,d,w,_,g,r,k;function p(){return e[25](e[31])}let m=e[31].weight!=null&&ue(e);return{c(){t=B("polyline"),m&&m.c(),_=T(),this.h()},l(s){t=N(s,"polyline",{points:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),I(t).forEach(z),m&&m.l(s),_=T(),this.h()},h(){var s,a;n(t,"points",l=`${e[7][e[31].v1]} ${e[7][e[31].v2]}`),n(t,"fill","none"),n(t,"stroke",i=(s=e[31].color)!=null?s:"silver"),n(t,"stroke-width",d=((a=e[31].weight)!=null?a:e[12]/2)/e[12]*10),n(t,"class","svelte-ifi7sf"),D(t,"removable",e[2].removeEdge)},m(s,a){K(s,t,a),m&&m.m(s,a),K(s,_,a),g=!0,r||(k=U(t,"click",p),r=!0)},p(s,a){var f,c;e=s,(!g||a[0]&130&&l!==(l=`${e[7][e[31].v1]} ${e[7][e[31].v2]}`))&&n(t,"points",l),(!g||a[0]&2&&i!==(i=(f=e[31].color)!=null?f:"silver"))&&n(t,"stroke",i),(!g||a[0]&4098&&d!==(d=((c=e[31].weight)!=null?c:e[12]/2)/e[12]*10))&&n(t,"stroke-width",d),a[0]&4&&D(t,"removable",e[2].removeEdge),e[31].weight!=null?m?(m.p(e,a),a[0]&2&&G(m,1)):(m=ue(e),m.c(),G(m,1),m.m(_.parentNode,_)):m&&(Q(),O(m,1,1,()=>{m=null}),R())},i(s){g||(H(()=>{w||(w=M(t,V,{duration:X},!0)),w.run(1)}),G(m),g=!0)},o(s){w||(w=M(t,V,{duration:X},!1)),w.run(0),O(m),g=!1},d(s){s&&z(t),s&&w&&w.end(),m&&m.d(s),s&&z(_),r=!1,k()}}}function Je(e){let t,l,i,d,w,_,g,r,k,p;function m(){return e[24](e[31])}let s=e[31].weight!=null&&ae(e);return{c(){t=B("circle"),s&&s.c(),g=T(),this.h()},l(a){t=N(a,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),I(t).forEach(z),s&&s.l(a),g=T(),this.h()},h(){var a,f;n(t,"cx",l=e[7][e[31].v1][0]+10),n(t,"cy",i=e[7][e[31].v1][1]-10),n(t,"r","10"),n(t,"fill","none"),n(t,"stroke",d=(a=e[31].color)!=null?a:"silver"),n(t,"stroke-width",w=((f=e[31].weight)!=null?f:e[12]/2)/e[12]*10),n(t,"class","svelte-ifi7sf"),D(t,"removable",e[2].removeEdge)},m(a,f){K(a,t,f),s&&s.m(a,f),K(a,g,f),r=!0,k||(p=U(t,"click",m),k=!0)},p(a,f){var c,o;e=a,(!r||f[0]&130&&l!==(l=e[7][e[31].v1][0]+10))&&n(t,"cx",l),(!r||f[0]&130&&i!==(i=e[7][e[31].v1][1]-10))&&n(t,"cy",i),(!r||f[0]&2&&d!==(d=(c=e[31].color)!=null?c:"silver"))&&n(t,"stroke",d),(!r||f[0]&4098&&w!==(w=((o=e[31].weight)!=null?o:e[12]/2)/e[12]*10))&&n(t,"stroke-width",w),f[0]&4&&D(t,"removable",e[2].removeEdge),e[31].weight!=null?s?(s.p(e,f),f[0]&2&&G(s,1)):(s=ae(e),s.c(),G(s,1),s.m(g.parentNode,g)):s&&(Q(),O(s,1,1,()=>{s=null}),R())},i(a){r||(H(()=>{_||(_=M(t,V,{duration:X},!0)),_.run(1)}),G(s),r=!0)},o(a){_||(_=M(t,V,{duration:X},!1)),_.run(0),O(s),r=!1},d(a){a&&z(t),a&&_&&_.end(),s&&s.d(a),a&&z(g),k=!1,p()}}}function ue(e){var u;let t,l=e[31].weight+"",i,d,w,_,g=e[31].weight+"",r,k,p,m,s,a,f=[x(e[7][e[31].v1],e[7][e[31].v2],e[31].v1),{"font-size":"13"},{"font-weight":"bold"},{"text-anchor":"middle"},{"alignment-baseline":"middle"},{stroke:d=(u=e[31].color)!=null?u:"silver"},{"stroke-width":"3"},{fill:"white"}],c={};for(let v=0;v<f.length;v+=1)c=ne(c,f[v]);let o=[x(e[7][e[31].v1],e[7][e[31].v2],e[31].v1),{"font-size":"13"},{"font-weight":"bold"},{"text-anchor":"middle"},{"alignment-baseline":"middle"},{fill:"white"}],h={};for(let v=0;v<o.length;v+=1)h=ne(h,o[v]);return{c(){t=B("text"),i=W(l),_=B("text"),r=W(g),this.h()},l(v){t=N(v,"text",{"font-size":!0,"font-weight":!0,"text-anchor":!0,"alignment-baseline":!0,stroke:!0,"stroke-width":!0,fill:!0});var y=I(t);i=A(y,l),y.forEach(z),_=N(v,"text",{"font-size":!0,"font-weight":!0,"text-anchor":!0,"alignment-baseline":!0,fill:!0});var j=I(_);r=A(j,g),j.forEach(z),this.h()},h(){Z(t,c),D(t,"svelte-ifi7sf",!0),Z(_,h),D(_,"resizable",e[2].reweightEdge),D(_,"svelte-ifi7sf",!0)},m(v,y){K(v,t,y),P(t,i),K(v,_,y),P(_,r),m=!0,s||(a=$(k=e[19].call(null,_,e[31])),s=!0)},p(v,y){var j;e=v,(!m||y[0]&2)&&l!==(l=e[31].weight+"")&&F(i,l),Z(t,c=re(f,[y[0]&130&&x(e[7][e[31].v1],e[7][e[31].v2],e[31].v1),{"font-size":"13"},{"font-weight":"bold"},{"text-anchor":"middle"},{"alignment-baseline":"middle"},(!m||y[0]&2&&d!==(d=(j=e[31].color)!=null?j:"silver"))&&{stroke:d},{"stroke-width":"3"},{fill:"white"}])),D(t,"svelte-ifi7sf",!0),(!m||y[0]&2)&&g!==(g=e[31].weight+"")&&F(r,g),Z(_,h=re(o,[y[0]&130&&x(e[7][e[31].v1],e[7][e[31].v2],e[31].v1),{"font-size":"13"},{"font-weight":"bold"},{"text-anchor":"middle"},{"alignment-baseline":"middle"},{fill:"white"}])),k&&ee(k.update)&&y[0]&2&&k.update.call(null,e[31]),D(_,"resizable",e[2].reweightEdge),D(_,"svelte-ifi7sf",!0)},i(v){m||(H(()=>{w||(w=M(t,V,{duration:X},!0)),w.run(1)}),H(()=>{p||(p=M(_,V,{duration:X},!0)),p.run(1)}),m=!0)},o(v){w||(w=M(t,V,{duration:X},!1)),w.run(0),p||(p=M(_,V,{duration:X},!1)),p.run(0),m=!1},d(v){v&&z(t),v&&w&&w.end(),v&&z(_),v&&p&&p.end(),s=!1,a()}}}function ae(e){let t,l=e[31].weight+"",i,d,w,_,g,r,k=e[31].weight+"",p,m,s,a,f,c,o,h;return{c(){t=B("text"),i=W(l),r=B("text"),p=W(k),this.h()},l(u){t=N(u,"text",{x:!0,y:!0,"font-size":!0,"font-weight":!0,"text-anchor":!0,"alignment-baseline":!0,stroke:!0,fill:!0});var v=I(t);i=A(v,l),v.forEach(z),r=N(u,"text",{x:!0,y:!0,"font-size":!0,"font-weight":!0,"text-anchor":!0,"alignment-baseline":!0,fill:!0,class:!0});var y=I(r);p=A(y,k),y.forEach(z),this.h()},h(){var u;n(t,"x",d=e[7][e[31].v1][0]+20),n(t,"y",w=e[7][e[31].v1][1]-20),n(t,"font-size","13"),n(t,"font-weight","bold"),n(t,"text-anchor","middle"),n(t,"alignment-baseline","middle"),n(t,"stroke",_=(u=e[31].color)!=null?u:"silver"),n(t,"fill","white"),n(r,"x",m=e[7][e[31].v1][0]+20),n(r,"y",s=e[7][e[31].v1][1]-20),n(r,"font-size","13"),n(r,"font-weight","bold"),n(r,"text-anchor","middle"),n(r,"alignment-baseline","middle"),n(r,"fill","white"),n(r,"class","svelte-ifi7sf"),D(r,"resizable",e[2].reweightEdge)},m(u,v){K(u,t,v),P(t,i),K(u,r,v),P(r,p),c=!0,o||(h=$(a=e[19].call(null,r,e[31])),o=!0)},p(u,v){var y;e=u,(!c||v[0]&2)&&l!==(l=e[31].weight+"")&&F(i,l),(!c||v[0]&130&&d!==(d=e[7][e[31].v1][0]+20))&&n(t,"x",d),(!c||v[0]&130&&w!==(w=e[7][e[31].v1][1]-20))&&n(t,"y",w),(!c||v[0]&2&&_!==(_=(y=e[31].color)!=null?y:"silver"))&&n(t,"stroke",_),(!c||v[0]&2)&&k!==(k=e[31].weight+"")&&F(p,k),(!c||v[0]&130&&m!==(m=e[7][e[31].v1][0]+20))&&n(r,"x",m),(!c||v[0]&130&&s!==(s=e[7][e[31].v1][1]-20))&&n(r,"y",s),a&&ee(a.update)&&v[0]&2&&a.update.call(null,e[31]),v[0]&4&&D(r,"resizable",e[2].reweightEdge)},i(u){c||(H(()=>{g||(g=M(t,V,{duration:X},!0)),g.run(1)}),H(()=>{f||(f=M(r,V,{duration:X},!0)),f.run(1)}),c=!0)},o(u){g||(g=M(t,V,{duration:X},!1)),g.run(0),f||(f=M(r,V,{duration:X},!1)),f.run(0),c=!1},d(u){u&&z(t),u&&g&&g.end(),u&&z(r),u&&f&&f.end(),o=!1,h()}}}function he(e,t){let l,i,d,w,_;const g=[Je,He],r=[];function k(p,m){return p[31].v1==p[31].v2?0:1}return i=k(t),d=r[i]=g[i](t),{key:e,first:null,c(){l=T(),d.c(),w=T(),this.h()},l(p){l=T(),d.l(p),w=T(),this.h()},h(){this.first=l},m(p,m){K(p,l,m),r[i].m(p,m),K(p,w,m),_=!0},p(p,m){t=p;let s=i;i=k(t),i===s?r[i].p(t,m):(Q(),O(r[s],1,1,()=>{r[s]=null}),R(),d=r[i],d?d.p(t,m):(d=r[i]=g[i](t),d.c()),G(d,1),d.m(w.parentNode,w))},i(p){_||(G(d),_=!0)},o(p){O(d),_=!1},d(p){p&&z(l),r[i].d(p),p&&z(w)}}}function _e(e){let t,l;return{c(){t=B("polyline"),this.h()},l(i){t=N(i,"polyline",{points:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),I(t).forEach(z),this.h()},h(){n(t,"points",l=e[7][e[11].v1]+" "+e[11].x+","+e[11].y),n(t,"fill","none"),n(t,"stroke","silver"),n(t,"stroke-width","5"),n(t,"class","grabable svelte-ifi7sf")},m(i,d){K(i,t,d)},p(i,d){d[0]&2176&&l!==(l=i[7][i[11].v1]+" "+i[11].x+","+i[11].y)&&n(t,"points",l)},d(i){i&&z(t)}}}function ve(e){let t,l=e[28].weight+"",i,d,w,_,g,r,k=e[28].weight+"",p,m,s,a,f;return{c(){t=B("text"),i=W(l),r=B("text"),p=W(k),this.h()},l(c){t=N(c,"text",{x:!0,y:!0,"font-size":!0,"font-weight":!0,"text-anchor":!0,"alignment-baseline":!0,stroke:!0,"stroke-width":!0});var o=I(t);i=A(o,l),o.forEach(z),r=N(c,"text",{x:!0,y:!0,"font-size":!0,"font-weight":!0,"text-anchor":!0,"alignment-baseline":!0,fill:!0});var h=I(r);p=A(h,k),h.forEach(z),this.h()},h(){var c;n(t,"x",d=e[28].x+10),n(t,"y",w=e[28].y-10),n(t,"font-size","11"),n(t,"font-weight","bold"),n(t,"text-anchor","middle"),n(t,"alignment-baseline","central"),n(t,"stroke",_=(c=e[28].color)!=null?c:"grey"),n(t,"stroke-width","3"),n(r,"x",m=e[28].x+10),n(r,"y",s=e[28].y-10),n(r,"font-size","11"),n(r,"font-weight","bold"),n(r,"text-anchor","middle"),n(r,"alignment-baseline","central"),n(r,"fill","white")},m(c,o){K(c,t,o),P(t,i),K(c,r,o),P(r,p),f=!0},p(c,o){var h;e=c,(!f||o[0]&1)&&l!==(l=e[28].weight+"")&&F(i,l),(!f||o[0]&1&&d!==(d=e[28].x+10))&&n(t,"x",d),(!f||o[0]&1&&w!==(w=e[28].y-10))&&n(t,"y",w),(!f||o[0]&1&&_!==(_=(h=e[28].color)!=null?h:"grey"))&&n(t,"stroke",_),(!f||o[0]&1)&&k!==(k=e[28].weight+"")&&F(p,k),(!f||o[0]&1&&m!==(m=e[28].x+10))&&n(r,"x",m),(!f||o[0]&1&&s!==(s=e[28].y-10))&&n(r,"y",s)},i(c){f||(H(()=>{g||(g=M(t,V,{duration:X},!0)),g.run(1)}),H(()=>{a||(a=M(r,V,{duration:X},!0)),a.run(1)}),f=!0)},o(c){g||(g=M(t,V,{duration:X},!1)),g.run(0),a||(a=M(r,V,{duration:X},!1)),a.run(0),f=!1},d(c){c&&z(t),c&&g&&g.end(),c&&z(r),c&&a&&a.end()}}}function ge(e){let t,l,i,d,w,_,g,r,k=e[28].i+"",p,m,s,a,f,c,o,h,u=e[28].weight!=null&&ve(e);return{c(){t=B("circle"),r=B("text"),p=W(k),u&&u.c(),f=T(),this.h()},l(v){t=N(v,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),I(t).forEach(z),r=N(v,"text",{x:!0,y:!0,"font-size":!0,"font-weight":!0,"text-anchor":!0,"alignment-baseline":!0,fill:!0,class:!0});var y=I(r);p=A(y,k),y.forEach(z),u&&u.l(v),f=T(),this.h()},h(){var v;n(t,"cx",l=e[28].x),n(t,"cy",i=e[28].y),n(t,"r","10"),n(t,"fill",d=(v=e[28].color)!=null?v:"grey"),n(t,"class","svelte-ifi7sf"),D(t,"grabable",e[2].moveVertex),n(r,"x",m=e[28].x),n(r,"y",s=e[28].y),n(r,"font-size","13"),n(r,"font-weight","bold"),n(r,"text-anchor","middle"),n(r,"alignment-baseline","central"),n(r,"fill","white"),n(r,"class","svelte-ifi7sf")},m(v,y){K(v,t,y),K(v,r,y),P(r,p),u&&u.m(v,y),K(v,f,y),c=!0,o||(h=[$(w=e[18].call(null,t,e[28])),$(_=e[17].call(null,t,e[28]))],o=!0)},p(v,y){var j;e=v,(!c||y[0]&1&&l!==(l=e[28].x))&&n(t,"cx",l),(!c||y[0]&1&&i!==(i=e[28].y))&&n(t,"cy",i),(!c||y[0]&1&&d!==(d=(j=e[28].color)!=null?j:"grey"))&&n(t,"fill",d),w&&ee(w.update)&&y[0]&1&&w.update.call(null,e[28]),_&&ee(_.update)&&y[0]&1&&_.update.call(null,e[28]),y[0]&4&&D(t,"grabable",e[2].moveVertex),(!c||y[0]&1)&&k!==(k=e[28].i+"")&&F(p,k),(!c||y[0]&1&&m!==(m=e[28].x))&&n(r,"x",m),(!c||y[0]&1&&s!==(s=e[28].y))&&n(r,"y",s),e[28].weight!=null?u?(u.p(e,y),y[0]&1&&G(u,1)):(u=ve(e),u.c(),G(u,1),u.m(f.parentNode,f)):u&&(Q(),O(u,1,1,()=>{u=null}),R())},i(v){c||(H(()=>{g||(g=M(t,V,{duration:X},!0)),g.run(1)}),H(()=>{a||(a=M(r,V,{duration:X},!0)),a.run(1)}),G(u),c=!0)},o(v){g||(g=M(t,V,{duration:X},!1)),g.run(0),a||(a=M(r,V,{duration:X},!1)),a.run(0),O(u),c=!1},d(v){v&&z(t),v&&g&&g.end(),v&&z(r),v&&a&&a.end(),u&&u.d(v),v&&z(f),o=!1,me(h)}}}function Pe(e){let t,l=[],i=new Map,d,w,_,g,r,k,p=e[1];const m=o=>o[31];for(let o=0;o<p.length;o+=1){let h=fe(e,p,o),u=m(h);i.set(u,l[o]=he(u,h))}let s=e[11]&&_e(e),a=e[0],f=[];for(let o=0;o<a.length;o+=1)f[o]=ge(se(e,a,o));const c=o=>O(f[o],1,1,()=>{f[o]=null});return{c(){t=B("svg");for(let o=0;o<l.length;o+=1)l[o].c();d=T(),s&&s.c(),w=T();for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){t=N(o,"svg",{width:!0,height:!0,viewBox:!0,xmlns:!0,"font-size":!0,class:!0});var h=I(t);for(let u=0;u<l.length;u+=1)l[u].l(h);d=T(),s&&s.l(h),w=T();for(let u=0;u<f.length;u+=1)f[u].l(h);h.forEach(z),this.h()},h(){n(t,"width",e[14]),n(t,"height",e[13]),n(t,"viewBox",_=e[6]-20+" "+(e[5]-30)+" "+(e[4]+50)+" "+(e[3]+50)),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"font-size","0"),n(t,"class","svelte-ifi7sf"),D(t,"grabbing",e[9]),D(t,"ctrl",e[10]&&e[2].addVertex)},m(o,h){K(o,t,h);for(let u=0;u<l.length;u+=1)l[u].m(t,null);P(t,d),s&&s.m(t,null),P(t,w);for(let u=0;u<f.length;u+=1)f[u].m(t,null);e[26](t),g=!0,r||(k=[U(oe,"keydown",e[22]),U(oe,"keyup",e[23]),U(t,"mousedown",Ce(Ge(e[16])))],r=!0)},p(o,h){if(h[0]&36998&&(p=o[1],Q(),l=Se(l,h,m,1,o,p,i,t,Te,he,d,fe),R()),o[11]?s?s.p(o,h):(s=_e(o),s.c(),s.m(t,w)):s&&(s.d(1),s=null),h[0]&5){a=o[0];let u;for(u=0;u<a.length;u+=1){const v=se(o,a,u);f[u]?(f[u].p(v,h),G(f[u],1)):(f[u]=ge(v),f[u].c(),G(f[u],1),f[u].m(t,null))}for(Q(),u=a.length;u<f.length;u+=1)c(u);R()}(!g||h[0]&16384)&&n(t,"width",o[14]),(!g||h[0]&8192)&&n(t,"height",o[13]),(!g||h[0]&120&&_!==(_=o[6]-20+" "+(o[5]-30)+" "+(o[4]+50)+" "+(o[3]+50)))&&n(t,"viewBox",_),h[0]&512&&D(t,"grabbing",o[9]),h[0]&1028&&D(t,"ctrl",o[10]&&o[2].addVertex)},i(o){if(!g){for(let h=0;h<p.length;h+=1)G(l[h]);for(let h=0;h<a.length;h+=1)G(f[h]);g=!0}},o(o){for(let h=0;h<l.length;h+=1)O(l[h]);f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)O(f[h]);g=!1},d(o){o&&z(t);for(let h=0;h<l.length;h+=1)l[h].d();s&&s.d(),Ye(f,o),e[26](null),r=!1,me(k)}}}const X=200;function de(e,t,l){return(e*(l?9:11)+t*(l?11:9))/20}function x(e,t,l){return{x:de(e[0],t[0],!!(l%2)),y:de(e[1],t[1],!!(l%2))}}function We(e,t,l){let i,d,w,_,g,r,k,p,m,{vertices:s}=t,{edges:a}=t,{editable:f={}}=t,c,o,h;h=new DOMPoint;let u=!1,v=!1;function y(b){!f.removeEdge||l(1,a=a.filter(E=>E!==b))}function j(b){var q;if(!f.addVertex||!b.ctrlKey)return;h.x=b.clientX,h.y=b.clientY,h=h.matrixTransform((q=o.getScreenCTM())==null?void 0:q.inverse());const E=Math.max(...Object.keys(c).map(Number))+1;l(0,s=[...s,{i:E,x:h.x,y:h.y}])}let C;function ce(b,E){function q(L){var Y;h.x=L.clientX,h.y=L.clientY,h=h.matrixTransform((Y=o.getScreenCTM())==null?void 0:Y.inverse()),C&&(l(11,C.x=h.x,C),l(11,C.y=h.y,C))}function S(L){if(o.removeEventListener("mouseup",S),o.removeEventListener("mousemove",q),l(9,u=!1),C&&(L==null?void 0:L.target)instanceof SVGCircleElement){l(11,C.v2=E.i,C);const Y=Oe(C.v1,C.v2,a);Y>=0&&a.splice(Y,1),l(1,a=[...a,C])}l(11,C=null)}function J(L){L.button!==0||L.ctrlKey||!f.addEdge||(L.preventDefault(),l(11,C={x:E.x,y:E.y,v1:E.i,v2:E.i}),f.addEdge==="weighted"&&l(11,C.weight=g/2|0||50,C),l(9,u=!0),o.addEventListener("mouseup",S),o.addEventListener("mousemove",q))}return b.addEventListener("mouseup",S),b.addEventListener("mousedown",J),{destroy(){b.removeEventListener("mouseup",S),b.removeEventListener("mousedown",J),S()}}}function we(b,E){function q(L){var Y;h.x=L.clientX,h.y=L.clientY,h=h.matrixTransform((Y=o.getScreenCTM())==null?void 0:Y.inverse()),E.x=h.x,E.y=h.y,l(0,s)}function S(){o.removeEventListener("mouseup",S),o.removeEventListener("mousemove",q),l(9,u=!1)}function J(L){L.button!==0||f.addEdge&&!L.ctrlKey||!f.moveVertex||(L.preventDefault(),l(9,u=!0),o.addEventListener("mouseup",S),o.addEventListener("mousemove",q))}return b.addEventListener("mouseup",S),b.addEventListener("mousedown",J),{destroy(){b.removeEventListener("mouseup",S),b.removeEventListener("mousedown",J),S()}}}function pe(b,E){let q,S;function J(Y){E.weight=Math.max(0,Math.min(100,S+(Y.clientX-q)/4)|0),l(1,a)}function L(Y){!f.reweightEdge||(Y.preventDefault(),S=E.weight||0,q=Y.clientX,window.addEventListener("mousemove",J),window.addEventListener("mouseup",()=>{window.removeEventListener("mousemove",J)}))}return b.addEventListener("mousedown",L),{destroy(){b.removeEventListener("mousedown",L),window.removeEventListener("mousemove",J)}}}const be=b=>l(10,v=b.ctrlKey),ke=b=>l(10,v=b.ctrlKey),ye=b=>y(b),Ee=b=>y(b);function ze(b){Ne[b?"unshift":"push"](()=>{o=b,l(8,o)})}return e.$$set=b=>{"vertices"in b&&l(0,s=b.vertices),"edges"in b&&l(1,a=b.edges),"editable"in b&&l(2,f=b.editable)},e.$$.update=()=>{e.$$.dirty[0]&1&&(l(7,c={}),s.forEach(b=>{l(7,c[b.i]=[b.x,b.y],c)})),e.$$.dirty[0]&1&&l(21,i=s.reduce((b,E)=>b.x>E.x?b:E).x),e.$$.dirty[0]&1&&l(20,d=s.reduce((b,E)=>b.y>E.y?b:E).y),e.$$.dirty[0]&1&&l(6,w=s.reduce((b,E)=>b.x<E.x?b:E).x),e.$$.dirty[0]&1&&l(5,_=s.reduce((b,E)=>b.y<E.y?b:E).y),e.$$.dirty[0]&2&&l(12,g=a.reduce((b,E)=>Math.max(b,E.weight||0),0)||50),e.$$.dirty[0]&2097216&&l(4,r=i-w),e.$$.dirty[0]&1048608&&l(3,k=d-_),e.$$.dirty[0]&24&&l(14,p=r>k?800:800/k*r),e.$$.dirty[0]&24&&l(13,m=k>r?800:800/r*k)},[s,a,f,k,r,_,w,c,o,u,v,C,g,m,p,y,j,ce,we,pe,d,i,be,ke,ye,Ee,ze]}class et extends Xe{constructor(t){super();De(this,t,We,Pe,Ke,{vertices:0,edges:1,editable:2},null,[-1,-1])}}export{et as G,je as a,Re as b,Oe as c,Ze as f,Qe as g,Ue as m,$e as r,xe as s};
