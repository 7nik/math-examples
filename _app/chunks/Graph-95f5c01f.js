var Ve=Object.defineProperty;var ie=Object.getOwnPropertySymbols;var Xe=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable;var re=(t,e,l)=>e in t?Ve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l,le=(t,e)=>{for(var l in e||(e={}))Xe.call(e,l)&&re(t,l,e[l]);if(ie)for(var l of ie(e))Ce.call(e,l)&&re(t,l,e[l]);return t};import{S as De,i as Ke,s as Ge,a8 as T,t as F,a9 as Y,a as N,h as J,d as q,b as r,g as K,H as I,j as Q,l as G,n as R,o as P,p as U,q as O,G as D,V as ee,W as te,a0 as W,aa as V,P as ye,K as Z,ab as Se,ac as Te,a3 as ne,ad as oe,ae as Ye,a6 as X,X as Ne,af as x,z as se,C as ue}from"./vendor-a50c646c.js";const Be=[{i:1,x:100,y:0},{i:2,x:200,y:0},{i:3,x:300,y:0},{i:4,x:0,y:100},{i:5,x:100,y:100},{i:6,x:200,y:100},{i:7,x:300,y:100},{i:8,x:400,y:100},{i:9,x:100,y:200},{i:10,x:200,y:200},{i:11,x:300,y:200}],Ie=[{v1:1,v2:2,weight:9},{v1:1,v2:4,weight:10},{v1:1,v2:5,weight:5},{v1:1,v2:6,weight:11},{v1:2,v2:3,weight:3},{v1:2,v2:6,weight:5},{v1:3,v2:6,weight:12},{v1:3,v2:7,weight:10},{v1:3,v2:8,weight:7},{v1:4,v2:5,weight:6},{v1:4,v2:9,weight:10},{v1:5,v2:6,weight:15},{v1:5,v2:9,weight:5},{v1:5,v2:10,weight:8},{v1:6,v2:7,weight:4},{v1:6,v2:10,weight:11},{v1:7,v2:8,weight:11},{v1:7,v2:10,weight:8},{v1:7,v2:11,weight:6},{v1:8,v2:11,weight:4}];function Re(){return{vertices:Be.map(t=>le({},t)),edges:Ie.map(t=>le({},t))}}function Oe(t,e,l){return l.findIndex(i=>i.v1==t&&i.v2==e||i.v1==e&&i.v2==t)}function He(t,e){return e.filter(({v1:l,v2:i})=>l==t||i==t).sort((l,i)=>Math.min(l.v1,l.v2)-Math.min(i.v1,i.v2)||Math.max(l.v1,l.v2)-Math.max(i.v1,i.v2))}function Ue(t,e,l){const i=l.indexOf(t);return i>=0&&(l[i].color=e),l}function Ze(t,e,l){const i=l.findIndex(g=>g.i==t);return i>=0&&(l[i].color=e),l}function xe(t){const e=[t[t.length-1].v1],l=[],i=[e[0]],g=[];for(;i.length>0;){const d=He(i[0],t).filter(u=>!l.includes(u));if(d.length>0){const u=d[0];l.push(u),g.push(u);const a=u.v1===i[0]?u.v2:u.v1;if(e.includes(a))return g;i.unshift(a),e.push(a)}else g.pop(),i.shift()}return null}function $e(t,e=!0){return t.slice().sort((l,i)=>(e?(l.weight||0)-(i.weight||0):(i.weight||0)-(l.weight||0))||Math.min(l.v1,l.v2)-Math.min(i.v1,i.v2))}function et(t,e,l){return t.forEach(i=>{i.color="grey",delete i.weight}),e.forEach(i=>{i.color="silver",l&&(i.weight=l)}),[t,e]}const{window:fe}=Ye;function ae(t,e,l){const i=t.slice();return i[29]=e[l],i}function he(t,e,l){const i=t.slice();return i[32]=e[l],i}function _e(t){let e,l,i,g;return{c(){e=T("text"),l=F(`\u{1F6C8}
            `),i=T("title"),g=F(t[3]),this.h()},l(d){e=Y(d,"text",{x:!0,y:!0,fill:!0,"font-size":!0,class:!0});var u=N(e);l=J(u,`\u{1F6C8}
            `),i=Y(u,"title",{class:!0});var a=N(i);g=J(a,t[3]),a.forEach(q),u.forEach(q),this.h()},h(){r(i,"class","svelte-1yqjpda"),r(e,"x",t[7]),r(e,"y",t[6]),r(e,"fill","grey"),r(e,"font-size","10"),r(e,"class","svelte-1yqjpda")},m(d,u){K(d,e,u),I(e,l),I(e,i),I(i,g)},p(d,u){u[0]&8&&Q(g,d[3]),u[0]&128&&r(e,"x",d[7]),u[0]&64&&r(e,"y",d[6])},d(d){d&&q(e)}}}function Pe(t){let e,l,i,g,d,u,a,n,w;function p(){return t[26](t[32])}let m=t[32].weight!=null&&ve(t);return{c(){e=T("polyline"),m&&m.c(),u=G(),this.h()},l(o){e=Y(o,"polyline",{points:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),N(e).forEach(q),m&&m.l(o),u=G(),this.h()},h(){var o,v;r(e,"points",l=`${t[8][t[32].v1]} ${t[8][t[32].v2]}`),r(e,"fill","none"),r(e,"stroke",i=(o=t[32].color)!=null?o:"silver"),r(e,"stroke-width",g=((v=t[32].weight)!=null?v:t[13]/2)/t[13]*10),r(e,"class","svelte-1yqjpda"),D(e,"removable",t[2].removeEdge)},m(o,v){K(o,e,v),m&&m.m(o,v),K(o,u,v),a=!0,n||(w=Z(e,"click",p),n=!0)},p(o,v){var _,f;t=o,(!a||v[0]&258&&l!==(l=`${t[8][t[32].v1]} ${t[8][t[32].v2]}`))&&r(e,"points",l),(!a||v[0]&2&&i!==(i=(_=t[32].color)!=null?_:"silver"))&&r(e,"stroke",i),(!a||v[0]&8194&&g!==(g=((f=t[32].weight)!=null?f:t[13]/2)/t[13]*10))&&r(e,"stroke-width",g),v[0]&4&&D(e,"removable",t[2].removeEdge),t[32].weight!=null?m?(m.p(t,v),v[0]&2&&O(m,1)):(m=ve(t),m.c(),O(m,1),m.m(u.parentNode,u)):m&&(R(),P(m,1,1,()=>{m=null}),U())},i(o){a||(W(()=>{d||(d=V(e,X,{duration:C},!0)),d.run(1)}),O(m),a=!0)},o(o){d||(d=V(e,X,{duration:C},!1)),d.run(0),P(m),a=!1},d(o){o&&q(e),o&&d&&d.end(),m&&m.d(o),o&&q(u),n=!1,w()}}}function We(t){let e,l,i,g,d,u,a,n,w,p;function m(){return t[25](t[32])}let o=t[32].weight!=null&&de(t);return{c(){e=T("circle"),o&&o.c(),a=G(),this.h()},l(v){e=Y(v,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),N(e).forEach(q),o&&o.l(v),a=G(),this.h()},h(){var v,_;r(e,"cx",l=t[8][t[32].v1][0]+10),r(e,"cy",i=t[8][t[32].v1][1]-10),r(e,"r","10"),r(e,"fill","none"),r(e,"stroke",g=(v=t[32].color)!=null?v:"silver"),r(e,"stroke-width",d=((_=t[32].weight)!=null?_:t[13]/2)/t[13]*10),r(e,"class","svelte-1yqjpda"),D(e,"removable",t[2].removeEdge)},m(v,_){K(v,e,_),o&&o.m(v,_),K(v,a,_),n=!0,w||(p=Z(e,"click",m),w=!0)},p(v,_){var f,E;t=v,(!n||_[0]&258&&l!==(l=t[8][t[32].v1][0]+10))&&r(e,"cx",l),(!n||_[0]&258&&i!==(i=t[8][t[32].v1][1]-10))&&r(e,"cy",i),(!n||_[0]&2&&g!==(g=(f=t[32].color)!=null?f:"silver"))&&r(e,"stroke",g),(!n||_[0]&8194&&d!==(d=((E=t[32].weight)!=null?E:t[13]/2)/t[13]*10))&&r(e,"stroke-width",d),_[0]&4&&D(e,"removable",t[2].removeEdge),t[32].weight!=null?o?(o.p(t,_),_[0]&2&&O(o,1)):(o=de(t),o.c(),O(o,1),o.m(a.parentNode,a)):o&&(R(),P(o,1,1,()=>{o=null}),U())},i(v){n||(W(()=>{u||(u=V(e,X,{duration:C},!0)),u.run(1)}),O(o),n=!0)},o(v){u||(u=V(e,X,{duration:C},!1)),u.run(0),P(o),n=!1},d(v){v&&q(e),v&&u&&u.end(),o&&o.d(v),v&&q(a),w=!1,p()}}}function ve(t){var c;let e,l=t[32].weight+"",i,g,d,u,a=t[32].weight+"",n,w,p,m,o,v,_=[$(t[8][t[32].v1],t[8][t[32].v2],t[32].v1),{"font-size":"13"},{"font-weight":"bold"},{"text-anchor":"middle"},{"alignment-baseline":"middle"},{stroke:g=(c=t[32].color)!=null?c:"silver"},{"stroke-width":"3"},{fill:"white"}],f={};for(let h=0;h<_.length;h+=1)f=ue(f,_[h]);let E=[$(t[8][t[32].v1],t[8][t[32].v2],t[32].v1),{"font-size":"13"},{"font-weight":"bold"},{"text-anchor":"middle"},{"alignment-baseline":"middle"},{fill:"white"}],L={};for(let h=0;h<E.length;h+=1)L=ue(L,E[h]);return{c(){e=T("text"),i=F(l),u=T("text"),n=F(a),this.h()},l(h){e=Y(h,"text",{"font-size":!0,"font-weight":!0,"text-anchor":!0,"alignment-baseline":!0,stroke:!0,"stroke-width":!0,fill:!0});var k=N(e);i=J(k,l),k.forEach(q),u=Y(h,"text",{"font-size":!0,"font-weight":!0,"text-anchor":!0,"alignment-baseline":!0,fill:!0});var s=N(u);n=J(s,a),s.forEach(q),this.h()},h(){x(e,f),D(e,"svelte-1yqjpda",!0),x(u,L),D(u,"resizable",t[2].reweightEdge),D(u,"svelte-1yqjpda",!0)},m(h,k){K(h,e,k),I(e,i),K(h,u,k),I(u,n),m=!0,o||(v=ee(w=t[20].call(null,u,t[32])),o=!0)},p(h,k){var s;t=h,(!m||k[0]&2)&&l!==(l=t[32].weight+"")&&Q(i,l),x(e,f=se(_,[k[0]&258&&$(t[8][t[32].v1],t[8][t[32].v2],t[32].v1),{"font-size":"13"},{"font-weight":"bold"},{"text-anchor":"middle"},{"alignment-baseline":"middle"},(!m||k[0]&2&&g!==(g=(s=t[32].color)!=null?s:"silver"))&&{stroke:g},{"stroke-width":"3"},{fill:"white"}])),D(e,"svelte-1yqjpda",!0),(!m||k[0]&2)&&a!==(a=t[32].weight+"")&&Q(n,a),x(u,L=se(E,[k[0]&258&&$(t[8][t[32].v1],t[8][t[32].v2],t[32].v1),{"font-size":"13"},{"font-weight":"bold"},{"text-anchor":"middle"},{"alignment-baseline":"middle"},{fill:"white"}])),w&&te(w.update)&&k[0]&2&&w.update.call(null,t[32]),D(u,"resizable",t[2].reweightEdge),D(u,"svelte-1yqjpda",!0)},i(h){m||(W(()=>{d||(d=V(e,X,{duration:C},!0)),d.run(1)}),W(()=>{p||(p=V(u,X,{duration:C},!0)),p.run(1)}),m=!0)},o(h){d||(d=V(e,X,{duration:C},!1)),d.run(0),p||(p=V(u,X,{duration:C},!1)),p.run(0),m=!1},d(h){h&&q(e),h&&d&&d.end(),h&&q(u),h&&p&&p.end(),o=!1,v()}}}function de(t){let e,l=t[32].weight+"",i,g,d,u,a,n,w=t[32].weight+"",p,m,o,v,_,f,E,L;return{c(){e=T("text"),i=F(l),n=T("text"),p=F(w),this.h()},l(c){e=Y(c,"text",{x:!0,y:!0,"font-size":!0,"font-weight":!0,"text-anchor":!0,"alignment-baseline":!0,stroke:!0,fill:!0,class:!0});var h=N(e);i=J(h,l),h.forEach(q),n=Y(c,"text",{x:!0,y:!0,"font-size":!0,"font-weight":!0,"text-anchor":!0,"alignment-baseline":!0,fill:!0,class:!0});var k=N(n);p=J(k,w),k.forEach(q),this.h()},h(){var c;r(e,"x",g=t[8][t[32].v1][0]+20),r(e,"y",d=t[8][t[32].v1][1]-20),r(e,"font-size","13"),r(e,"font-weight","bold"),r(e,"text-anchor","middle"),r(e,"alignment-baseline","middle"),r(e,"stroke",u=(c=t[32].color)!=null?c:"silver"),r(e,"fill","white"),r(e,"class","svelte-1yqjpda"),r(n,"x",m=t[8][t[32].v1][0]+20),r(n,"y",o=t[8][t[32].v1][1]-20),r(n,"font-size","13"),r(n,"font-weight","bold"),r(n,"text-anchor","middle"),r(n,"alignment-baseline","middle"),r(n,"fill","white"),r(n,"class","svelte-1yqjpda"),D(n,"resizable",t[2].reweightEdge)},m(c,h){K(c,e,h),I(e,i),K(c,n,h),I(n,p),f=!0,E||(L=ee(v=t[20].call(null,n,t[32])),E=!0)},p(c,h){var k;t=c,(!f||h[0]&2)&&l!==(l=t[32].weight+"")&&Q(i,l),(!f||h[0]&258&&g!==(g=t[8][t[32].v1][0]+20))&&r(e,"x",g),(!f||h[0]&258&&d!==(d=t[8][t[32].v1][1]-20))&&r(e,"y",d),(!f||h[0]&2&&u!==(u=(k=t[32].color)!=null?k:"silver"))&&r(e,"stroke",u),(!f||h[0]&2)&&w!==(w=t[32].weight+"")&&Q(p,w),(!f||h[0]&258&&m!==(m=t[8][t[32].v1][0]+20))&&r(n,"x",m),(!f||h[0]&258&&o!==(o=t[8][t[32].v1][1]-20))&&r(n,"y",o),v&&te(v.update)&&h[0]&2&&v.update.call(null,t[32]),h[0]&4&&D(n,"resizable",t[2].reweightEdge)},i(c){f||(W(()=>{a||(a=V(e,X,{duration:C},!0)),a.run(1)}),W(()=>{_||(_=V(n,X,{duration:C},!0)),_.run(1)}),f=!0)},o(c){a||(a=V(e,X,{duration:C},!1)),a.run(0),_||(_=V(n,X,{duration:C},!1)),_.run(0),f=!1},d(c){c&&q(e),c&&a&&a.end(),c&&q(n),c&&_&&_.end(),E=!1,L()}}}function ge(t,e){let l,i,g,d,u;const a=[We,Pe],n=[];function w(p,m){return p[32].v1==p[32].v2?0:1}return i=w(e),g=n[i]=a[i](e),{key:t,first:null,c(){l=G(),g.c(),d=G(),this.h()},l(p){l=G(),g.l(p),d=G(),this.h()},h(){this.first=l},m(p,m){K(p,l,m),n[i].m(p,m),K(p,d,m),u=!0},p(p,m){e=p;let o=i;i=w(e),i===o?n[i].p(e,m):(R(),P(n[o],1,1,()=>{n[o]=null}),U(),g=n[i],g?g.p(e,m):(g=n[i]=a[i](e),g.c()),O(g,1),g.m(d.parentNode,d))},i(p){u||(O(g),u=!0)},o(p){P(g),u=!1},d(p){p&&q(l),n[i].d(p),p&&q(d)}}}function me(t){let e,l;return{c(){e=T("polyline"),this.h()},l(i){e=Y(i,"polyline",{points:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),N(e).forEach(q),this.h()},h(){r(e,"points",l=t[8][t[12].v1]+" "+t[12].x+","+t[12].y),r(e,"fill","none"),r(e,"stroke","silver"),r(e,"stroke-width","5"),r(e,"class","grabable svelte-1yqjpda")},m(i,g){K(i,e,g)},p(i,g){g[0]&4352&&l!==(l=i[8][i[12].v1]+" "+i[12].x+","+i[12].y)&&r(e,"points",l)},d(i){i&&q(e)}}}function ce(t){let e,l=t[29].weight+"",i,g,d,u,a,n,w=t[29].weight+"",p,m,o,v,_;return{c(){e=T("text"),i=F(l),n=T("text"),p=F(w),this.h()},l(f){e=Y(f,"text",{x:!0,y:!0,"font-size":!0,"font-weight":!0,"text-anchor":!0,"alignment-baseline":!0,stroke:!0,"stroke-width":!0,class:!0});var E=N(e);i=J(E,l),E.forEach(q),n=Y(f,"text",{x:!0,y:!0,"font-size":!0,"font-weight":!0,"text-anchor":!0,"alignment-baseline":!0,fill:!0,class:!0});var L=N(n);p=J(L,w),L.forEach(q),this.h()},h(){var f;r(e,"x",g=t[29].x+10),r(e,"y",d=t[29].y-10),r(e,"font-size","11"),r(e,"font-weight","bold"),r(e,"text-anchor","middle"),r(e,"alignment-baseline","central"),r(e,"stroke",u=(f=t[29].color)!=null?f:"grey"),r(e,"stroke-width","3"),r(e,"class","svelte-1yqjpda"),r(n,"x",m=t[29].x+10),r(n,"y",o=t[29].y-10),r(n,"font-size","11"),r(n,"font-weight","bold"),r(n,"text-anchor","middle"),r(n,"alignment-baseline","central"),r(n,"fill","white"),r(n,"class","svelte-1yqjpda")},m(f,E){K(f,e,E),I(e,i),K(f,n,E),I(n,p),_=!0},p(f,E){var L;t=f,(!_||E[0]&1)&&l!==(l=t[29].weight+"")&&Q(i,l),(!_||E[0]&1&&g!==(g=t[29].x+10))&&r(e,"x",g),(!_||E[0]&1&&d!==(d=t[29].y-10))&&r(e,"y",d),(!_||E[0]&1&&u!==(u=(L=t[29].color)!=null?L:"grey"))&&r(e,"stroke",u),(!_||E[0]&1)&&w!==(w=t[29].weight+"")&&Q(p,w),(!_||E[0]&1&&m!==(m=t[29].x+10))&&r(n,"x",m),(!_||E[0]&1&&o!==(o=t[29].y-10))&&r(n,"y",o)},i(f){_||(W(()=>{a||(a=V(e,X,{duration:C},!0)),a.run(1)}),W(()=>{v||(v=V(n,X,{duration:C},!0)),v.run(1)}),_=!0)},o(f){a||(a=V(e,X,{duration:C},!1)),a.run(0),v||(v=V(n,X,{duration:C},!1)),v.run(0),_=!1},d(f){f&&q(e),f&&a&&a.end(),f&&q(n),f&&v&&v.end()}}}function we(t,e){let l,i,g,d,u,a,n,w,p=e[29].i+"",m,o,v,_,f,E,L,c,h=e[29].weight!=null&&ce(e);return{key:t,first:null,c(){l=T("circle"),w=T("text"),m=F(p),h&&h.c(),f=G(),this.h()},l(k){l=Y(k,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),N(l).forEach(q),w=Y(k,"text",{x:!0,y:!0,"font-size":!0,"font-weight":!0,"text-anchor":!0,"alignment-baseline":!0,fill:!0,class:!0});var s=N(w);m=J(s,p),s.forEach(q),h&&h.l(k),f=G(),this.h()},h(){var k;r(l,"cx",i=e[29].x),r(l,"cy",g=e[29].y),r(l,"r","10"),r(l,"fill",d=(k=e[29].color)!=null?k:"grey"),r(l,"class","svelte-1yqjpda"),D(l,"grabable",e[2].moveVertex),r(w,"x",o=e[29].x),r(w,"y",v=e[29].y),r(w,"font-size","13"),r(w,"font-weight","bold"),r(w,"text-anchor","middle"),r(w,"alignment-baseline","central"),r(w,"fill","white"),r(w,"class","svelte-1yqjpda"),this.first=l},m(k,s){K(k,l,s),K(k,w,s),I(w,m),h&&h.m(k,s),K(k,f,s),E=!0,L||(c=[ee(u=e[19].call(null,l,e[29])),ee(a=e[18].call(null,l,e[29]))],L=!0)},p(k,s){var y;e=k,(!E||s[0]&1&&i!==(i=e[29].x))&&r(l,"cx",i),(!E||s[0]&1&&g!==(g=e[29].y))&&r(l,"cy",g),(!E||s[0]&1&&d!==(d=(y=e[29].color)!=null?y:"grey"))&&r(l,"fill",d),u&&te(u.update)&&s[0]&1&&u.update.call(null,e[29]),a&&te(a.update)&&s[0]&1&&a.update.call(null,e[29]),s[0]&4&&D(l,"grabable",e[2].moveVertex),(!E||s[0]&1)&&p!==(p=e[29].i+"")&&Q(m,p),(!E||s[0]&1&&o!==(o=e[29].x))&&r(w,"x",o),(!E||s[0]&1&&v!==(v=e[29].y))&&r(w,"y",v),e[29].weight!=null?h?(h.p(e,s),s[0]&1&&O(h,1)):(h=ce(e),h.c(),O(h,1),h.m(f.parentNode,f)):h&&(R(),P(h,1,1,()=>{h=null}),U())},i(k){E||(W(()=>{n||(n=V(l,X,{duration:C},!0)),n.run(1)}),W(()=>{_||(_=V(w,X,{duration:C},!0)),_.run(1)}),O(h),E=!0)},o(k){n||(n=V(l,X,{duration:C},!1)),n.run(0),_||(_=V(w,X,{duration:C},!1)),_.run(0),P(h),E=!1},d(k){k&&q(l),k&&n&&n.end(),k&&q(w),k&&_&&_.end(),h&&h.d(k),k&&q(f),L=!1,ye(c)}}}function Ae(t){let e,l,i=[],g=new Map,d,u,a=[],n=new Map,w,p,m,o,v,_,f=t[3]&&t[0].length>0&&_e(t),E=t[1];const L=s=>s[32];for(let s=0;s<E.length;s+=1){let y=he(t,E,s),z=L(y);g.set(z,i[s]=ge(z,y))}let c=t[12]&&me(t),h=t[0];const k=s=>s[29];for(let s=0;s<h.length;s+=1){let y=ae(t,h,s),z=k(y);n.set(z,a[s]=we(z,y))}return{c(){e=T("svg"),f&&f.c(),l=G();for(let s=0;s<i.length;s+=1)i[s].c();d=G(),c&&c.c(),u=G();for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=Y(s,"svg",{width:!0,height:!0,viewBox:!0,xmlns:!0,"font-size":!0,class:!0});var y=N(e);f&&f.l(y),l=G();for(let z=0;z<i.length;z+=1)i[z].l(y);d=G(),c&&c.l(y),u=G();for(let z=0;z<a.length;z+=1)a[z].l(y);y.forEach(q),this.h()},h(){r(e,"width",w=t[15]||800),r(e,"height",p=t[14]||800),r(e,"viewBox",m=t[7]-20+" "+(t[6]-30)+" "+(t[5]+50)+" "+(t[4]+50)),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"font-size","0"),r(e,"class","svelte-1yqjpda"),D(e,"grabbing",t[10]),D(e,"ctrl",t[11]&&t[2].addVertex)},m(s,y){K(s,e,y),f&&f.m(e,null),I(e,l);for(let z=0;z<i.length;z+=1)i[z].m(e,null);I(e,d),c&&c.m(e,null),I(e,u);for(let z=0;z<a.length;z+=1)a[z].m(e,null);t[27](e),o=!0,v||(_=[Z(fe,"keydown",t[23]),Z(fe,"keyup",t[24]),Z(e,"mousedown",Se(Te(t[17])))],v=!0)},p(s,y){s[3]&&s[0].length>0?f?f.p(s,y):(f=_e(s),f.c(),f.m(e,l)):f&&(f.d(1),f=null),y[0]&73990&&(E=s[1],R(),i=ne(i,y,L,1,s,E,g,e,oe,ge,d,he),U()),s[12]?c?c.p(s,y):(c=me(s),c.c(),c.m(e,u)):c&&(c.d(1),c=null),y[0]&5&&(h=s[0],R(),a=ne(a,y,k,1,s,h,n,e,oe,we,null,ae),U()),(!o||y[0]&32768&&w!==(w=s[15]||800))&&r(e,"width",w),(!o||y[0]&16384&&p!==(p=s[14]||800))&&r(e,"height",p),(!o||y[0]&240&&m!==(m=s[7]-20+" "+(s[6]-30)+" "+(s[5]+50)+" "+(s[4]+50)))&&r(e,"viewBox",m),y[0]&1024&&D(e,"grabbing",s[10]),y[0]&2052&&D(e,"ctrl",s[11]&&s[2].addVertex)},i(s){if(!o){for(let y=0;y<E.length;y+=1)O(i[y]);for(let y=0;y<h.length;y+=1)O(a[y]);o=!0}},o(s){for(let y=0;y<i.length;y+=1)P(i[y]);for(let y=0;y<a.length;y+=1)P(a[y]);o=!1},d(s){s&&q(e),f&&f.d();for(let y=0;y<i.length;y+=1)i[y].d();c&&c.d();for(let y=0;y<a.length;y+=1)a[y].d();t[27](null),v=!1,ye(_)}}}const C=200;function pe(t,e,l){return(t*(l?9:11)+e*(l?11:9))/20}function $(t,e,l){return{x:pe(t[0],e[0],!!(l%2)),y:pe(t[1],e[1],!!(l%2))}}function Fe(t,e,l){let i,g,d,u,a,n,w,p,m,{vertices:o}=e,{edges:v}=e,{editable:_={}}=e,f="",E,L,c;c=new DOMPoint;let h=!1,k=!1;function s(b){!_.removeEdge||l(1,v=v.filter(j=>j!==b))}function y(b){var H;if(!_.addVertex||!b.ctrlKey)return;c.x=b.clientX,c.y=b.clientY,c=c.matrixTransform((H=L.getScreenCTM())==null?void 0:H.inverse());const j=Math.max(...Object.keys(E).map(Number))+1;l(0,o=[...o,{i:j,x:c.x,y:c.y}])}let z;function be(b,j){function H(M){var B;c.x=M.clientX,c.y=M.clientY,c=c.matrixTransform((B=L.getScreenCTM())==null?void 0:B.inverse()),z&&(l(12,z.x=c.x,z),l(12,z.y=c.y,z))}function S(M){if(L.removeEventListener("mouseup",S),L.removeEventListener("mousemove",H),l(10,h=!1),z&&(M==null?void 0:M.target)instanceof SVGCircleElement){l(12,z.v2=j.i,z);const B=Oe(z.v1,z.v2,v);B>=0&&v.splice(B,1),l(1,v=[...v,z])}l(12,z=null)}function A(M){M.button!==0||M.ctrlKey||!_.addEdge||(M.preventDefault(),l(12,z={x:j.x,y:j.y,v1:j.i,v2:j.i}),_.addEdge==="weighted"&&l(12,z.weight=a/2|0||50,z),l(10,h=!0),L.addEventListener("mouseup",S),L.addEventListener("mousemove",H))}return b.addEventListener("mouseup",S),b.addEventListener("mousedown",A),{destroy(){b.removeEventListener("mouseup",S),b.removeEventListener("mousedown",A),S()}}}function ke(b,j){function H(M){var B;c.x=M.clientX,c.y=M.clientY,c=c.matrixTransform((B=L.getScreenCTM())==null?void 0:B.inverse()),j.x=c.x,j.y=c.y,l(0,o)}function S(){L.removeEventListener("mouseup",S),L.removeEventListener("mousemove",H),l(10,h=!1)}function A(M){M.button!==0||_.addEdge&&!M.ctrlKey||!_.moveVertex||(M.preventDefault(),l(10,h=!0),L.addEventListener("mouseup",S),L.addEventListener("mousemove",H))}return b.addEventListener("mouseup",S),b.addEventListener("mousedown",A),{destroy(){b.removeEventListener("mouseup",S),b.removeEventListener("mousedown",A),S()}}}function Ee(b,j){let H,S;function A(B){j.weight=Math.max(0,Math.min(100,S+(B.clientX-H)/4)|0),l(1,v)}function M(B){!_.reweightEdge||(B.preventDefault(),S=j.weight||0,H=B.clientX,window.addEventListener("mousemove",A),window.addEventListener("mouseup",()=>{window.removeEventListener("mousemove",A)}))}return b.addEventListener("mousedown",M),{destroy(){b.removeEventListener("mousedown",M),window.removeEventListener("mousemove",A)}}}const ze=b=>l(11,k=b.ctrlKey),Le=b=>l(11,k=b.ctrlKey),qe=b=>s(b),je=b=>s(b);function Me(b){Ne[b?"unshift":"push"](()=>{L=b,l(9,L)})}return t.$$set=b=>{"vertices"in b&&l(0,o=b.vertices),"edges"in b&&l(1,v=b.edges),"editable"in b&&l(2,_=b.editable)},t.$$.update=()=>{t.$$.dirty[0]&12&&(l(3,f=""),_.addVertex&&l(3,f+=`Ctrl-click - \u0434\u043E\u0434\u0430\u0442\u0438 \u0432\u0435\u0440\u0448\u0438\u043D\u0443 \u0443 \u043F\u0443\u0441\u0442\u043E\u043C\u0443 \u043C\u0456\u0441\u0446\u0456
`),_.moveVertex&&l(3,f+="\u041C\u0438\u0448\u0435\u044E \u043C\u043E\u0436\u043D\u0430 \u043F\u0435\u0440\u043C\u0456\u0449\u044E\u0432\u0430\u0442\u0438 \u0432\u0435\u0440\u0448\u0438\u043D\u0438"+(_.addEdge?" \u043F\u0440\u0438 \u043D\u0430\u0442\u0438\u0441\u043D\u0443\u0442\u043E\u043C\u0443 Ctrl":"")+`
`),_.addEdge&&l(3,f+=`\u041C\u043E\u0436\u043D\u0430 \u0434\u043E\u0434\u0430\u0442\u0438 \u0440\u0435\u0431\u0440\u0430 (\u0432\u0438\u0442\u044F\u0433\u0443\u044E\u0447\u0438 \u0457\u0445 \u0437 \u0432\u0435\u0440\u0448\u0438\u043D\u0438)
`),_.removeEdge&&l(3,f+=`\u041C\u043E\u0436\u043D\u0430 \u043F\u0440\u0438\u0431\u0438\u0440\u0430\u0442\u0438 \u0440\u0435\u0431\u0440\u0430 \u043D\u0430\u0442\u0438\u0441\u043A\u0430\u044E\u0447\u0438 \u043D\u0430 \u043D\u0438\u0445
`),_.reweightEdge&&l(3,f+=`\u041C\u043E\u0436\u043D\u0430 \u0437\u043C\u0456\u043D\u044E\u0432\u0430\u0442\u0438 \u0432\u0430\u0433\u0443 \u0440\u0435\u0431\u0440 \u0442\u044F\u043D\u0443\u0447\u0438 \u0437\u0430 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F
`),l(3,f=f.trim())),t.$$.dirty[0]&1&&(l(8,E={}),o.forEach(b=>{l(8,E[b.i]=[b.x,b.y],E)})),t.$$.dirty[0]&1&&l(22,i=o.length===0?0:o.reduce((b,j)=>b.x>j.x?b:j).x),t.$$.dirty[0]&1&&l(21,g=o.length===0?0:o.reduce((b,j)=>b.y>j.y?b:j).y),t.$$.dirty[0]&1&&l(7,d=o.length===0?0:o.reduce((b,j)=>b.x<j.x?b:j).x),t.$$.dirty[0]&1&&l(6,u=o.length===0?0:o.reduce((b,j)=>b.y<j.y?b:j).y),t.$$.dirty[0]&2&&l(13,a=v.reduce((b,j)=>Math.max(b,j.weight||0),0)||50),t.$$.dirty[0]&4194432&&l(5,n=i-d),t.$$.dirty[0]&2097216&&l(4,w=g-u),t.$$.dirty[0]&48&&l(15,p=n>w?800:800/w*n),t.$$.dirty[0]&48&&l(14,m=w>n?800:800/n*w)},[o,v,_,f,w,n,u,d,E,L,h,k,z,a,m,p,s,y,be,ke,Ee,g,i,ze,Le,qe,je,Me]}class tt extends De{constructor(e){super();Ke(this,e,Fe,Ae,Ge,{vertices:0,edges:1,editable:2},null,[-1,-1])}}export{tt as G,He as a,Ue as b,Oe as c,xe as f,Re as g,Ze as m,et as r,$e as s};
