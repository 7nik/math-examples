import{S as A,i as H,s as I,l as G,g as v,e as S,t as P,c as j,a as N,h as W,d as c,b as O,G as f,H as z,V as B,j as F,W as J,O as V,f as w,R as M}from"./vendor-a50c646c.js";function C(e,n,a){const t=e.slice();return t[8]=n[a],t[10]=a,t}function R(e,n,a){const t=e.slice();return t[11]=n[a],t[13]=a,t}function y(e){let n,a=e[11]+"",t,l,i,s;return{c(){n=S("span"),t=P(a),this.h()},l(h){n=j(h,"SPAN",{class:!0});var o=N(n);t=W(o,a),o.forEach(c),this.h()},h(){O(n,"class","svelte-1rxlfa7"),f(n,"row",e[2]&&!e[10]&&!e[1]||e[2]&&!e[13]&&e[1]),f(n,"column",e[3]&&!e[13]&&!e[1]||e[3]&&!e[10]&&e[1])},m(h,o){v(h,n,o),z(n,t),i||(s=B(l=e[6].call(null,n,{r:e[10],c:e[13],markMap:e[5]})),i=!0)},p(h,o){e=h,o&1&&a!==(a=e[11]+"")&&F(t,a),l&&J(l.update)&&o&32&&l.update.call(null,{r:e[10],c:e[13],markMap:e[5]}),o&6&&f(n,"row",e[2]&&!e[10]&&!e[1]||e[2]&&!e[13]&&e[1]),o&10&&f(n,"column",e[3]&&!e[13]&&!e[1]||e[3]&&!e[10]&&e[1])},d(h){h&&c(n),i=!1,s()}}}function E(e){let n,a=e[8],t=[];for(let l=0;l<a.length;l+=1)t[l]=y(R(e,a,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();n=G()},l(l){for(let i=0;i<t.length;i+=1)t[i].l(l);n=G()},m(l,i){for(let s=0;s<t.length;s+=1)t[s].m(l,i);v(l,n,i)},p(l,i){if(i&47){a=l[8];let s;for(s=0;s<a.length;s+=1){const h=R(l,a,s);t[s]?t[s].p(h,i):(t[s]=y(h),t[s].c(),t[s].m(n.parentNode,n))}for(;s<t.length;s+=1)t[s].d(1);t.length=a.length}},d(l){V(t,l),l&&c(n)}}}function K(e){let n,a=e[0],t=[];for(let l=0;l<a.length;l+=1)t[l]=E(C(e,a,l));return{c(){n=S("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){n=j(l,"DIV",{style:!0,class:!0});var i=N(n);for(let s=0;s<t.length;s+=1)t[s].l(i);i.forEach(c),this.h()},h(){var l,i;w(n,"--w",e[1]?e[0].length:(l=e[0][0])==null?void 0:l.length),w(n,"--h",e[1]?(i=e[0][0])==null?void 0:i.length:e[0].length),O(n,"class","svelte-1rxlfa7"),f(n,"colDir",e[1]),f(n,"showGrid",e[4])},m(l,i){v(l,n,i);for(let s=0;s<t.length;s+=1)t[s].m(n,null)},p(l,[i]){var s,h;if(i&47){a=l[0];let o;for(o=0;o<a.length;o+=1){const u=C(l,a,o);t[o]?t[o].p(u,i):(t[o]=E(u),t[o].c(),t[o].m(n,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=a.length}i&3&&w(n,"--w",l[1]?l[0].length:(s=l[0][0])==null?void 0:s.length),i&3&&w(n,"--h",l[1]?(h=l[0][0])==null?void 0:h.length:l[0].length),i&2&&f(n,"colDir",l[1]),i&16&&f(n,"showGrid",l[4])},i:M,o:M,d(l){l&&c(n),V(t,l)}}}function L(e,n,a){let t,{matrix:l=[[]]}=n,{colDir:i=!1}=n,{showRow:s=!1}=n,{showColumn:h=!1}=n,{showGrid:o=!1}=n,{marks:u={}}=n;function q(r,m){function d({r:k,c:b,markMap:_}){var D;const g=(D=_[`${k},${b}`])==null?void 0:D.split(",");if(!g){r.style.background="none";return}g.length===1?r.style.background=g[0]:r.style.background=`linear-gradient(135deg, ${g[0]} 50%, ${g[1]} 50%)`}return d(m),{update:d}}return e.$$set=r=>{"matrix"in r&&a(0,l=r.matrix),"colDir"in r&&a(1,i=r.colDir),"showRow"in r&&a(2,s=r.showRow),"showColumn"in r&&a(3,h=r.showColumn),"showGrid"in r&&a(4,o=r.showGrid),"marks"in r&&a(7,u=r.marks)},e.$$.update=()=>{e.$$.dirty&128&&a(5,t=Object.entries(u).reduce((r,[m,d])=>(d.forEach(({r:k,c:b})=>{const _=`${k},${b}`;r[_]?r[_]+=","+m:r[_]=m}),r),{}))},[l,i,s,h,o,t,q,u]}class T extends A{constructor(n){super();H(this,n,L,K,I,{matrix:0,colDir:1,showRow:2,showColumn:3,showGrid:4,marks:7})}}export{T as M};
